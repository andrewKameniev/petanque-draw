(function(){"use strict";var e={227:function(e,t,n){var s=n(963),a=n(252);function o(e,t,n,s,o,r){const i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(i)}var r=n(907),i={name:"App",methods:{...(0,r.OI)(["loginAdmin"])},mounted(){localStorage.getItem("isAdmin")&&(this.loginAdmin(!0),this.$router.push("/admin"))}},l=n(744);const u=(0,l.Z)(i,[["render",o]]);var m=u;const c=["A","B","C","D","E","F","G","H","J","I"];function d(e,t,n,s){if(t===n)return"-";let a;return e.forEach((e=>{e.forEach((e=>{e.team_1+e.team_2!==t+n&&e.team_2+e.team_1!==t+n||(a=e)}))})),a?s?t===a.team_1?a.team_1_score-a.team_2_score||0:a.team_2_score-a.team_1_score||0:t===a.team_1?`${a.team_1_score||0} : ${a.team_2_score||0}`:`${a.team_2_score||0} : ${a.team_1_score||0}`:void 0}function h(e,t){let n=[];if(e.playOffBracket){const s=JSON.parse(JSON.stringify(e.playOffBracket.stages)).reverse(),a=JSON.parse(JSON.stringify(e.playOffBracket.thirdPlace));let o=[];for(let e=0;e<s.length;e++)if(1===s[e].stageLabel){const t={place:"1",title:s[e].teams[0].team_1_score>s[e].teams[0].team_2_score?s[e].teams[0].team_1:s[e].teams[0].team_2};n.push(t),o.push(t.title);const a={place:"2",title:s[e].teams[0].team_1_score>s[e].teams[0].team_2_score?s[e].teams[0].team_2:s[e].teams[0].team_1};n.push(a),o.push(a.title)}else if(2===s[e].stageLabel){const e={place:"3",title:a.team_1_score>a.team_2_score?a.team_1:a.team_2};n.push(e),o.push(e.title);const t={place:"4",title:a.team_1_score>a.team_2_score?a.team_2:a.team_1};n.push(t),o.push(t.title)}else s[e].teams.forEach((t=>{const a=o.includes(t.team_1)?t.team_2:t.team_1,r={place:s[e].stageLabel+1+"-"+2*s[e].stageLabel,title:a};n.push(r),o.push(r.title)}));if(e.games.length>0)if("swiss"===e.system||"groups"===e.system&&1===t.length)t.slice(e.playOffBracket.stages[0].teamsCount,t.length).forEach(((t,s)=>{const a={place:e.playOffBracket.stages[0].teamsCount+s+1,title:t.title,players:t.players};n.push(a)}));else{const s=t.length,a=e.playOffBracket.stages[0].teamsCount;let o=[];t.forEach(((e,t)=>{o[t]=e.slice(a/s)}));for(let e=0;e<o[0].length;e++)o.forEach((t=>{if(t[e]){const o={place:a+e*s+1+"-"+(a+e*s+s),title:t[e].title};n.push(o)}}))}}else if("swiss"===e.system||"groups"===e.system&&1===t.length){const s="swiss"===e.system?t:t[0];s.forEach(((e,t)=>{const s={place:t+1,title:e.title,players:e.players};n.push(s)}))}return n}function p(e){const t=document.createElement("div");t.innerHTML=e.trim(),document.body.appendChild(t);const n=new Range;n.selectNode(t);const s=window.getSelection();s.removeAllRanges(),s.addRange(n),document.execCommand("copy"),t.remove()}const g={name:"Tournament A",games:[],gamesCopy:[],teams:[],system:"swiss",roundIsActive:!1,useRating:!1,isPlayOff:!1,playoff:!1,supermelePlayers:2,tournamentIsFinished:!1,tournamentMessage:"",preferences:{technical:{technicalFirst:13,technicalSecond:7},maxScore:13}},_=(0,r.MT)({state(){return{tournaments:localStorage.getItem("tournaments")?JSON.parse(localStorage.getItem("tournaments")):[JSON.parse(JSON.stringify(g))],message:{show:!1,type:"success",title:"Message",text:""},savedTournaments:localStorage.getItem("tournamentsList")?JSON.parse(localStorage.getItem("tournamentsList")):[],currentTournamentIndex:null,isAdmin:!1}},mutations:{setTournamentIdFromPortal(e,t){e.tournaments[e.currentTournamentIndex].portalIdTournament=t},loginAdmin(e,t){e.isAdmin=t,t||localStorage.removeItem("isAdmin")},setActiveTournament(e,t){e.currentTournamentIndex=t},changeTournamentName(e,t){e.tournaments[e.currentTournamentIndex].name=t},removeTournament(e){e.tournaments.length>1?(e.tournaments.splice(e.currentTournamentIndex,1),e.currentTournamentIndex=0):e.tournaments[e.currentTournamentIndex]=JSON.parse(JSON.stringify(g))},addTeamToStore(e,t){e.tournaments[e.currentTournamentIndex].teams.push(t)},removeTeam(e,t){e.tournaments[e.currentTournamentIndex].teams=e.tournaments[e.currentTournamentIndex].teams.filter((e=>e.title!==t))},changeDrawType(e,t){e.tournaments[e.currentTournamentIndex].useRating=t},startRound(e){e.tournaments[e.currentTournamentIndex].roundIsActive=!0},endRound(e){e.tournaments[e.currentTournamentIndex].roundIsActive=!1},addRoundToGames(e,t){e.tournaments[e.currentTournamentIndex].games.push(t),e.tournaments[e.currentTournamentIndex].gamesCopy.push(t),e.tournaments[e.currentTournamentIndex].roundIsActive=!0},restoreRound(e){e.tournaments[e.currentTournamentIndex].games.pop(),e.tournaments[e.currentTournamentIndex].teams.forEach((e=>e.opponents.pop()))},setPlayOff(e,t){e.tournaments[e.currentTournamentIndex].playOff=t},setPlayOffBracket(e,t){e.tournaments[e.currentTournamentIndex].playOffBracket=t},setPlayOffStage(e,t){e.tournaments[e.currentTournamentIndex].playOffStage=t},finishTournament(e){e.tournaments[e.currentTournamentIndex].tournamentIsFinished=!0},showMessage(e,{title:t,text:n,type:s="success"}){e.message={show:!0,title:t,text:n,type:s}},hideMessage(e){e.message.show=!1},addTournament(e){if(e.tournaments.length>=10)return _.commit("showMessage",{title:"Not available",text:"You can make only 10 tournaments simultaneously. Remove old tournaments, please",type:"error"}),!1;e.tournaments.push(JSON.parse(JSON.stringify(g))),e.currentTournamentIndex=e.tournaments.length-1,_.commit("changeTournamentName",`Tournament ${c[e.tournaments.length-1]}`)},addToSaved(e,t){e.savedTournaments.push(t)},removeSavedTournament(e,t){e.savedTournaments=e.savedTournaments.filter((e=>e.name!==t))},addBTournament(e,t){_.commit("addTournament"),e.tournaments[e.currentTournamentIndex].teams=t}}});_.subscribe(((e,t)=>{localStorage.setItem("tournaments",JSON.stringify(t.tournaments)),localStorage.setItem("tournamentsList",JSON.stringify(t.savedTournaments))}));var f=n(201),w=n.p+"img/bg.ec634baf.jpg";const y={class:"container"},v={class:"columns"},k={class:"column"},b=(0,a._)("div",{class:"column is-one-third is-hidden-touch"},[(0,a._)("img",{src:w,alt:"Petanque in Alps",class:"image"})],-1),T=(0,a._)("hr",null,null,-1);function x(e,t,n,s,o,r){const i=(0,a.up)("Navbar"),l=(0,a.up)("Tournament"),u=(0,a.up)("Message"),m=(0,a.up)("Menu"),c=(0,a.up)("SavedTournamentModal"),d=(0,a.up)("Help");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i,{onOpenMenu:t[0]||(t[0]=e=>o.menuOpen=!o.menuOpen)}),(0,a._)("div",y,[(0,a._)("div",v,[(0,a._)("div",k,[r.tournament?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0)]),b]),T,(0,a._)("button",{class:"button is-info",onClick:t[1]||(t[1]=(...t)=>e.addTournament&&e.addTournament(...t))},"Add new tournament"),e.message.show?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(m,{active:o.menuOpen,onCloseMenu:t[2]||(t[2]=e=>o.menuOpen=!1),onOpenSavedTournament:r.openSavedTournament,onOpenHelp:t[3]||(t[3]=e=>{o.menuOpen=!1,o.helpOpen=!0})},null,8,["active","onOpenSavedTournament"]),o.showSavedTournament?((0,a.wg)(),(0,a.j4)(c,{key:1,tournament:e.savedTournaments[o.savedTournamentsActive],onCloseModal:r.closeTournamentModal},null,8,["tournament","onCloseModal"])):(0,a.kq)("",!0),o.helpOpen?((0,a.wg)(),(0,a.j4)(d,{key:2,onCloseModal:t[4]||(t[4]=e=>o.helpOpen=!1)})):(0,a.kq)("",!0)])],64)}var D=n(577);const O={class:"message-header"},I={class:"message-body"};function R(e,t,n,s,o,r){return(0,a.wg)(),(0,a.iD)("article",{class:(0,D.C_)(["message is-success",{"is-danger":"error"===e.message.type}])},[(0,a._)("div",O,[(0,a._)("p",null,(0,D.zw)(e.message.title),1),(0,a._)("button",{class:"delete","aria-label":"delete",onClick:t[0]||(t[0]=(...t)=>e.closeMessage&&e.closeMessage(...t))})]),(0,a._)("div",I,(0,D.zw)(e.message.text),1)],2)}var C={name:"Message",mounted(){const e=this;setTimeout(e.hideMessage,3e3)},computed:(0,r.rn)(["message"]),methods:{...(0,r.OI)(["hideMessage"])}};const S=(0,l.Z)(C,[["render",R],["__scopeId","data-v-217e01bc"]]);var M=S;const P=e=>((0,a.dD)("data-v-1bc7cfe0"),e=e(),(0,a.Cn)(),e),z={class:"menu"},q={class:"has-text-right"},B={key:0,class:"menu-label is-hidden-desktop"},E={key:1,class:"navbar-item has-dropdown is-hoverable is-hidden-desktop"},N=P((()=>(0,a._)("a",{class:"navbar-link"}," Choose ",-1))),A={key:0,class:"navbar-dropdown"},U=["onClick"],H={key:2,class:"menu-label"},L={class:"menu-list"},j=["onClick"],$=P((()=>(0,a._)("p",{class:"menu-label"}," Info ",-1))),Y={class:"menu-list"},G=P((()=>(0,a._)("li",null,[(0,a._)("a",{href:"https://en.wikipedia.org/wiki/Swiss-system_tournament",target:"_blank"},"Swiss system")],-1))),K=P((()=>(0,a._)("p",{class:"menu-label"}," Useful Links ",-1))),V=P((()=>(0,a._)("ul",{class:"menu-list"},[(0,a._)("li",null,[(0,a._)("a",{href:"http://portal.petanque.org.ua/",target:"_blank"},"Portal")])],-1))),F=P((()=>(0,a._)("p",{class:"menu-label"}," Admin section ",-1))),W=(0,a.Uk)(" Log in as Admin ");function J(e,t,n,o,r,i){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",{class:(0,D.C_)(["menu-wrapper",{active:n.active}]),onClick:t[3]||(t[3]=(0,s.iM)((t=>e.$emit("closeMenu")),["self"]))},[(0,a._)("aside",z,[(0,a._)("div",q,[(0,a._)("a",{href:"#",class:"delete is-large",onClick:t[0]||(t[0]=(0,s.iM)((t=>e.$emit("closeMenu")),["prevent"]))})]),e.tournaments.length>1?((0,a.wg)(),(0,a.iD)("p",B," Active tournaments ")):(0,a.kq)("",!0),e.tournaments.length>1?((0,a.wg)(),(0,a.iD)("div",E,[N,e.tournaments.length>1?((0,a.wg)(),(0,a.iD)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tournaments,((t,n)=>((0,a.wg)(),(0,a.iD)("a",{class:(0,D.C_)(["navbar-item",{"is-active":n===e.currentTournamentIndex}]),key:n,onClick:(0,s.iM)((e=>i.chooseTournament(n)),["prevent"])},(0,D.zw)(t.name||"Tournament "+r.tournamentNames[n]),11,U)))),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),e.savedTournaments.length?((0,a.wg)(),(0,a.iD)("p",H," Saved tournaments ")):(0,a.kq)("",!0),(0,a._)("ul",L,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.savedTournaments,((t,n)=>((0,a.wg)(),(0,a.iD)("li",{key:n},[(0,a._)("a",{href:"#",onClick:(0,s.iM)((t=>e.$emit("openSavedTournament",n)),["prevent"])},(0,D.zw)(t.name),9,j)])))),128))]),$,(0,a._)("ul",Y,[G,(0,a._)("li",null,[(0,a._)("a",{href:"#",onClick:t[1]||(t[1]=(0,s.iM)((t=>e.$emit("openHelp")),["prevent"]))},"How to use (in progress)?")])]),K,V,F,(0,a._)("div",null,[e.isAdmin?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"button is-light",onClick:t[2]||(t[2]=(...e)=>i.logout&&i.logout(...e))},"Logout")):((0,a.wg)(),(0,a.j4)(l,{key:1,to:"/login",class:"button is-light"},{default:(0,a.w5)((()=>[W])),_:1}))])])],2)}var Z={name:"Menu",data(){return{tournamentNames:c}},props:["active"],computed:(0,r.rn)(["tournaments","currentTournamentIndex","savedTournaments","isAdmin"]),methods:{...(0,r.OI)(["setActiveTournament","loginAdmin"]),chooseTournament(e){this.setActiveTournament(e),this.$emit("closeMenu")},logout(){this.loginAdmin(!1),this.$router.push("/")}}};const Q=(0,l.Z)(Z,[["render",J],["__scopeId","data-v-1bc7cfe0"]]);var X=Q;const ee=e=>((0,a.dD)("data-v-1eb0f396"),e=e(),(0,a.Cn)(),e),te={class:"content is-flex is-justify-content-space-between mb-3"},ne={key:0,class:"card"},se=ee((()=>(0,a._)("p",{class:"card-header-title"}," Results in tables ",-1))),ae=ee((()=>(0,a._)("button",{class:"card-header-icon","aria-label":"more options"},[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1))),oe=[se,ae],re={key:1,class:"card"},ie=ee((()=>(0,a._)("p",{class:"card-header-title"}," Games ",-1))),le=ee((()=>(0,a._)("button",{class:"card-header-icon","aria-label":"more options"},[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1))),ue=[ie,le],me={class:"table-container"},ce={key:0,class:"table is-striped mb-5"},de={key:0},he={class:"has-text-centered"},pe={class:"table-container"},ge={class:"table is-striped"};function _e(e,t,n,s,o,r){const i=(0,a.up)("Ranking"),l=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(l,{onCloseModal:t[3]||(t[3]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[(0,a._)("div",te,[(0,a._)("h2",null,(0,D.zw)(n.tournament.name),1),(0,a._)("button",{class:"button is-danger",onClick:t[0]||(t[0]=t=>{e.removeSavedTournament(n.tournament.name),e.$emit("close-modal")})},"Remove tournament")]),n.tournament.ranking?((0,a.wg)(),(0,a.iD)("div",ne,[(0,a._)("header",{class:"card-header",onClick:t[1]||(t[1]=e=>{o.showGames=!1,o.showSwissTable=!o.showSwissTable})},oe),(0,a._)("div",{class:(0,D.C_)(["card-content",{active:o.showSwissTable}])},[(0,a.Wm)(i,{tournament:n.tournament,rankingTeams:r.sortTeams(n.tournament.teams),showInSaved:"true"},null,8,["tournament","rankingTeams"])],2)])):(0,a.kq)("",!0),n.tournament.games?((0,a.wg)(),(0,a.iD)("div",re,[(0,a._)("header",{class:"card-header",onClick:t[2]||(t[2]=e=>{o.showSwissTable=!1,o.showGames=!o.showGames})},ue),(0,a._)("div",{class:(0,D.C_)(["card-content",{active:o.showGames}])},[(0,a._)("div",me,[n.tournament.games?((0,a.wg)(),(0,a.iD)("table",ce,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tournament.games,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,n)=>((0,a.wg)(),(0,a.iD)("tr",{key:n},[(0,a._)("td",null,"R"+(0,D.zw)(t+1),1),(0,a._)("td",null,(0,D.zw)(e.team_1),1),(0,a._)("td",null,(0,D.zw)(e.team_1_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2),1)])))),128))],64)))),128))])])):(0,a.kq)("",!0)]),n.tournament.playOff?((0,a.wg)(),(0,a.iD)("div",de,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tournament.playOff.stages,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"mb-5"},[(0,a._)("h3",he,(0,D.zw)(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),(0,a._)("div",pe,[(0,a._)("table",ge,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.teams,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,D.zw)(e.team_1),1),(0,a._)("td",null,(0,D.zw)(e.team_1_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2),1)])))),128))])])])])))),128))])):(0,a.kq)("",!0)],2)])):(0,a.kq)("",!0)])),_:1})}const fe={key:0,class:"mb-5"},we={class:"is-flex is-justify-content-space-between is-align-content-center"},ye=(0,a._)("h2",null,"Tournament Result",-1),ve={class:"table-container"},ke={id:"table-finish-ranking",class:"table"},be=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Place"),(0,a._)("th",null,"Team"),(0,a._)("th",null,"Players")])],-1),Te={key:0,class:"is-size-7"},xe={key:0},De={key:1},Oe={key:0},Ie=(0,a.Uk)("Ranking "),Re={key:0},Ce={key:1},Se={key:1},Me={class:"table-container"},Pe={id:"table-ranking",class:"table"},ze=(0,a._)("th",null,"#",-1),qe=(0,a._)("th",null,"Team",-1),Be=(0,a._)("th",{align:"center"},"Wins",-1),Ee=(0,a._)("th",{align:"center"},"Buh",-1),Ne=(0,a._)("th",{align:"center"},"SBuh",-1),Ae=(0,a._)("th",{align:"center"},"Points",-1),Ue={key:0,align:"center"},He=(0,a._)("td",null,[(0,a._)("span",{class:"team-count"})],-1),Le={align:"center"},je={align:"center"},$e={align:"center"},Ye={align:"center"},Ge={key:0},Ke={key:2},Ve={class:"table-container"},Fe={id:"table-ranking",class:"table"},We=(0,a._)("th",null,"#",-1),Je=(0,a._)("th",null,"Player",-1),Ze=(0,a._)("th",{align:"center"},"Wins",-1),Qe=(0,a._)("th",{align:"center"},"Difference",-1),Xe=(0,a._)("th",{align:"center"},"Points",-1),et={key:0,align:"center"},tt=(0,a._)("td",null,[(0,a._)("span",{class:"team-count"})],-1),nt={align:"center"},st={align:"center"},at={align:"center"},ot={key:0},rt={key:3},it={key:0},lt={class:"table-container mb-5"},ut={class:"table table is-striped"},mt=(0,a._)("th",null,"Place",-1),ct=(0,a._)("th",null,"Team",-1),dt=(0,a._)("th",{align:"center"},"Wins",-1),ht=(0,a._)("th",{align:"center"},"Points",-1),pt={align:"center"},gt={align:"center"};function _t(e,t,n,s,o,r){return(0,a.wg)(),(0,a.iD)("div",null,[n.tournament.tournamentIsFinished?((0,a.wg)(),(0,a.iD)("div",fe,[(0,a._)("div",we,[ye,(0,a._)("button",{class:"button is-info",onClick:t[0]||(t[0]=(...e)=>r.copyResults&&r.copyResults(...e))},"Copy results")]),(0,a._)("div",ve,[(0,a._)("table",ke,[be,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.showInSaved?n.tournament.ranking:r.tournamentRanking,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,D.zw)(e.place),1),(0,a._)("td",null,(0,D.zw)(e.title),1),(0,a._)("td",null,[(n.showInSaved?e.players&&e.players.length:r.getTeamPlayers(e.title).length)?((0,a.wg)(),(0,a.iD)("div",Te,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.showInSaved?e.players:r.getTeamPlayers(e.title),((t,n)=>((0,a.wg)(),(0,a.iD)("span",{class:"has-text-dark",key:n},[(0,a.Uk)((0,D.zw)(t.name)+" "+(0,D.zw)(t.surname)+" ",1),n<r.getTeamPlayers(e.title).length-1?((0,a.wg)(),(0,a.iD)("span",xe,", ")):(0,a.kq)("",!0)])))),128))])):(0,a.kq)("",!0)])])))),128))])])])])):(0,a.kq)("",!0),n.tournament.games.length>0?((0,a.wg)(),(0,a.iD)("div",De,["groups"!==n.tournament.system?((0,a.wg)(),(0,a.iD)("h2",Oe,[Ie,n.activeRound?((0,a.wg)(),(0,a.iD)("span",Re,"after "+(0,D.zw)(n.activeRound-1)+" round"+(0,D.zw)(n.activeRound>2&&0!==n.activeRound?"s ":" "),1)):(0,a.kq)("",!0),"swiss"===n.tournament.system?((0,a.wg)(),(0,a.iD)("span",Ce,"swiss")):(0,a.kq)("",!0)])):(0,a.kq)("",!0),"swiss"===n.tournament.system?((0,a.wg)(),(0,a.iD)("div",Se,[(0,a._)("div",Me,[(0,a._)("table",Pe,[(0,a._)("thead",null,[(0,a._)("tr",null,[ze,qe,Be,Ee,Ne,Ae,n.tournament.useRating?((0,a.wg)(),(0,a.iD)("th",Ue,"Rating")):(0,a.kq)("",!0)])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.rankingTeams,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.title},[He,(0,a._)("td",null,(0,D.zw)(e.title),1),(0,a._)("td",Le,(0,D.zw)(e.wins),1),(0,a._)("td",je,(0,D.zw)(e.buhgolts),1),(0,a._)("td",$e,(0,D.zw)(e.smallBuhgolts),1),(0,a._)("td",Ye,(0,D.zw)(e.pointsPlus)+":"+(0,D.zw)(e.pointsMinus),1),n.tournament.useRating?((0,a.wg)(),(0,a.iD)("td",Ge,(0,D.zw)(e.rating),1)):(0,a.kq)("",!0)])))),128))])])])])):"supermele"===n.tournament.system?((0,a.wg)(),(0,a.iD)("div",Ke,[(0,a._)("div",Ve,[(0,a._)("table",Fe,[(0,a._)("thead",null,[(0,a._)("tr",null,[We,Je,Ze,Qe,Xe,n.tournament.useRating?((0,a.wg)(),(0,a.iD)("th",et,"Rating")):(0,a.kq)("",!0)])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.rankingTeams,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.title},[tt,(0,a._)("td",null,(0,D.zw)(e.title),1),(0,a._)("td",nt,(0,D.zw)(e.wins),1),(0,a._)("td",st,(0,D.zw)(e.pointsPlus-e.pointsMinus>0?"+":"")+(0,D.zw)(e.pointsPlus-e.pointsMinus),1),(0,a._)("td",at,(0,D.zw)(e.pointsPlus)+":"+(0,D.zw)(e.pointsMinus),1),n.tournament.useRating?((0,a.wg)(),(0,a.iD)("td",ot,(0,D.zw)(e.rating),1)):(0,a.kq)("",!0)])))),128))])])])])):n.tournament.groups&&n.tournament.games.length>1?((0,a.wg)(),(0,a.iD)("div",rt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.rankingTeams,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[n.tournament.groups&&n.tournament.groups.length>1?((0,a.wg)(),(0,a.iD)("h4",it,"Group "+(0,D.zw)(r.groupsNames[t]),1)):(0,a.kq)("",!0),(0,a._)("div",lt,[(0,a._)("table",ut,[(0,a._)("thead",null,[(0,a._)("tr",null,[mt,ct,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,t)=>((0,a.wg)(),(0,a.iD)("th",{key:t,align:"center"},(0,D.zw)(t+1),1)))),128)),dt,ht])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((t,s)=>((0,a.wg)(),(0,a.iD)("tr",{key:s},[(0,a._)("td",null,(0,D.zw)(s+1),1),(0,a._)("td",null,(0,D.zw)(t.title),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,s)=>((0,a.wg)(),(0,a.iD)("td",{key:s,align:"center",class:"no-wrap"},(0,D.zw)(r.getGameResultInGroup(n.tournament.games,t.title,e.title)),1)))),128)),(0,a._)("td",pt,(0,D.zw)(t.wins),1),(0,a._)("td",gt,(0,D.zw)(t.pointsPlus)+":"+(0,D.zw)(t.pointsMinus),1)])))),128))])])])])))),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var ft={name:"Ranking",props:["tournament","rankingTeams","activeRound","showInSaved"],emits:["is-playoff"],data(){return{playOffBracket:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null}},methods:{getGameResultInGroup:d,copyResults(){let e="";this.tournamentRanking.forEach((t=>{e=e+"<span>"+t.place+"</span><p>"+t.title+"</p>"})),p(e)},getTeamPlayers(e){return this.tournament.teams&&this.tournament.teams.find((t=>t.title===e)).players?this.tournament.teams.find((t=>t.title===e)).players:""}},computed:{groupsNames(){return c},tournamentRanking(){return h(this.tournament,this.rankingTeams)}}};const wt=(0,l.Z)(ft,[["render",_t]]);var yt=wt;const vt={class:"modal is-active"},kt={class:"modal-content"},bt={class:"box"};function Tt(e,t,n,o,r,i){return(0,a.wg)(),(0,a.iD)("div",vt,[(0,a._)("div",{class:"modal-background",onClick:t[0]||(t[0]=(0,s.iM)((t=>e.$emit("close-modal")),["self"]))}),(0,a._)("div",kt,[(0,a._)("div",bt,[(0,a.WI)(e.$slots,"default")])]),(0,a._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=t=>e.$emit("close-modal"))})])}var xt={name:"Modal",emits:["close-modal"]};const Dt=(0,l.Z)(xt,[["render",Tt]]);var Ot=Dt,It={name:"SavedTournamentModal",components:{Modal:Ot,Ranking:yt},props:["tournament"],emits:["close-modal"],data(){return{showSwissTable:!1,showGames:!1}},methods:{...(0,r.OI)(["removeSavedTournament"]),sortTeams(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");const t=e.sort(((e,t)=>t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating));return t},countBuhgolts(e,t){const n="buhgolts"===t?"wins":"buhgolts";return e.forEach((s=>{let a=0;s.opponents.length&&s.opponents.forEach((t=>{const s=e.findIndex((e=>e.title===t));-1!==s&&(a+=e[s][n])})),s[t]=a})),e}}};const Rt=(0,l.Z)(It,[["render",_e],["__scopeId","data-v-1eb0f396"]]);var Ct=Rt;const St={key:0,class:"box"},Mt=(0,a._)("h2",{class:"is-size-5 mb-3"},"Remote availabilities:",-1),Pt={class:"buttons"},zt={key:0},qt={key:1},Bt=(0,a.Uk)(" message "),Et={key:0,class:"progress is-small is-info",max:"100"},Nt={key:1,class:"field"},At={class:"text-center is-size-3"},Ut=(0,a.Uk)(),Ht={class:"is-size-5 is-capitalized"},Lt={key:1},jt={class:"field"},$t=(0,a._)("label",{class:"label",for:""},"System",-1),Yt={class:"control"},Gt={class:"radio"},Kt=(0,a.Uk)(" Swiss "),Vt={class:"radio"},Ft=(0,a.Uk)(" Groups "),Wt={class:"radio"},Jt=(0,a.Uk)(" SuperMele "),Zt={key:0,class:"field"},Qt=(0,a._)("label",{class:"label"},"How many team in group?",-1),Xt={class:"control"},en={class:"select"},tn={key:0},nn={key:1,class:"field"},sn=(0,a._)("label",{class:"label"},"How many players in a team?",-1),an={class:"control"},on={class:"select"},rn=(0,a._)("option",{value:"2",selected:"selected"},"2",-1),ln=(0,a._)("option",{value:"3"},"3",-1),un=[rn,ln],mn={class:"tabs"},cn=["onClick"],dn={key:2,class:"content tabs-content"},hn={key:2,class:"mb-5 mt-5"},pn={class:"field is-grouped"},gn={class:"control"},_n={class:"control"},fn={key:0,class:"control"},wn={key:1,class:"control"},yn={key:5,class:"content tabs-content"},vn={key:0},kn={class:"mt-5"},bn=(0,a._)("h2",{class:"h2"},"Go to play-off?",-1),Tn={class:"is-flex is-align-items-center"},xn=(0,a.Uk)("Choose number of teams "),Dn={class:"select ml-3"},On={key:0},In={key:1},Rn={key:2},Cn={key:3},Sn={key:4},Mn={key:5},Pn={key:0,class:"mt-5"},zn={class:"checkbox"},qn=(0,a.Uk)(" Also play "),Bn=(0,a._)("strong",null,"Tournament B",-1),En=(0,a.Uk)("? ");function Nn(e,t,n,o,r,i){const l=(0,a.up)("QrCode"),u=(0,a.up)("AddTeam"),m=(0,a.up)("TeamsList"),c=(0,a.up)("Games"),d=(0,a.up)("Results"),h=(0,a.up)("Ranking"),p=(0,a.up)("SaveTournament"),g=(0,a.up)("ConfirmRemoveModal"),_=(0,a.up)("ChangeTournamentName"),f=(0,a.up)("Preferences");return(0,a.wg)(),(0,a.iD)("div",null,[e.isAdmin&&i.tournament.portalIdTournament?((0,a.wg)(),(0,a.iD)("div",St,[Mt,(0,a._)("div",Pt,[(0,a._)("button",{class:"button is-info",onClick:t[0]||(t[0]=(...e)=>i.showInfoOnServer&&i.showInfoOnServer(...e))},"Post tournament on server"),(0,a._)("button",{class:"button is-light",onClick:t[1]||(t[1]=e=>r.showQrCode=!0)},"Show tournament links"),(0,a._)("button",{class:"button is-warning",onClick:t[2]||(t[2]=e=>r.showTypeMessage=!r.showTypeMessage)},[r.showTypeMessage?((0,a.wg)(),(0,a.iD)("span",qt,"Hide ")):((0,a.wg)(),(0,a.iD)("span",zt,"Write ")),Bt]),(0,a._)("button",{class:"button is-danger",onClick:t[3]||(t[3]=(...e)=>i.removeNotificationsDb&&i.removeNotificationsDb(...e))}," Clear notifications db ")]),r.loadingOnServer?((0,a.wg)(),(0,a.iD)("progress",Et,"15%")):(0,a.kq)("",!0),r.showTypeMessage?((0,a.wg)(),(0,a.iD)("div",Nt,[(0,a.wy)((0,a._)("textarea",{name:"info",id:"",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=e=>i.tournament.tournamentMessage=e),class:"textarea"},null,512),[[s.nr,i.tournament.tournamentMessage]])])):(0,a.kq)("",!0),r.showQrCode?((0,a.wg)(),(0,a.j4)(l,{key:2,onCloseModal:t[5]||(t[5]=e=>r.showQrCode=!1)})):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a._)("div",At,[(0,a._)("strong",{class:"pointer",onClick:t[6]||(t[6]=e=>r.changeNameModal=!0)},(0,D.zw)(i.tournament.name),1),Ut,(0,a._)("span",Ht,"("+(0,D.zw)(i.tournament.system)+")",1)]),i.tournament.games.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Lt,[(0,a._)("div",jt,[$t,(0,a._)("div",Yt,[(0,a._)("label",Gt,[(0,a.wy)((0,a._)("input",{type:"radio",name:"system",id:"swiss",value:"swiss","onUpdate:modelValue":t[7]||(t[7]=e=>i.tournament.system=e)},null,512),[[s.G2,i.tournament.system]]),Kt]),(0,a._)("label",Vt,[(0,a.wy)((0,a._)("input",{type:"radio",name:"system",id:"groups",value:"groups","onUpdate:modelValue":t[8]||(t[8]=e=>i.tournament.system=e)},null,512),[[s.G2,i.tournament.system]]),Ft]),(0,a._)("label",Wt,[(0,a.wy)((0,a._)("input",{type:"radio",name:"system",id:"supermele",value:"supermele","onUpdate:modelValue":t[9]||(t[9]=e=>i.tournament.system=e)},null,512),[[s.G2,i.tournament.system]]),Jt])])]),"groups"===i.tournament.system?((0,a.wg)(),(0,a.iD)("div",Zt,[Qt,(0,a._)("div",Xt,[(0,a._)("div",en,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.teamsInGroup=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tournament.teams,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[t>1?((0,a.wg)(),(0,a.iD)("option",tn,(0,D.zw)(t+1),1)):(0,a.kq)("",!0)],64)))),128))],512),[[s.bM,r.teamsInGroup,void 0,{number:!0}]])])])])):(0,a.kq)("",!0),"supermele"===i.tournament.system?((0,a.wg)(),(0,a.iD)("div",nn,[sn,(0,a._)("div",an,[(0,a._)("div",on,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>i.tournament.supermelePlayers=e)},un,512),[[s.bM,i.tournament.supermelePlayers,void 0,{number:!0}]])])])])):(0,a.kq)("",!0)])),(0,a._)("div",mn,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tabs,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:(0,D.C_)({"is-active":e===r.activeTab})},[(0,a._)("a",{href:"#",onClick:(0,s.iM)((t=>r.activeTab=e),["prevent"])},(0,D.zw)(e),9,cn)],2)))),128))])]),"Teams"===r.activeTab?((0,a.wg)(),(0,a.iD)("div",dn,["supermele"!==i.tournament.system&&i.tournament.games.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(u,{key:0,"import-hidden":"supermele"===i.tournament.system&&i.tournament.games.length>0},null,8,["import-hidden"])),i.tournament.teams.length?((0,a.wg)(),(0,a.j4)(m,{key:1,activeRound:i.activeRound},null,8,["activeRound"])):((0,a.wg)(),(0,a.iD)("div",hn," Please, add team ")),(0,a._)("div",pn,[(0,a._)("div",gn,[(0,a._)("button",{class:"button is-danger",onClick:t[12]||(t[12]=e=>r.removeConfirm=!0)},"Remove tournament")]),(0,a._)("div",_n,[(0,a._)("button",{class:"button is-info",onClick:t[13]||(t[13]=e=>r.showPreferences=!0)},"Preferences")]),i.canSaveTournament||i.tournament.tournamentIsFinished?((0,a.wg)(),(0,a.iD)("div",fn,[(0,a._)("button",{class:"button is-success",onClick:t[14]||(t[14]=e=>r.showSaveTournament=!0)},"Save tournament")])):(0,a.kq)("",!0),!i.tournament.tournamentIsFinished&&i.tournament.games.length>1?((0,a.wg)(),(0,a.iD)("div",wn,[(0,a._)("button",{class:"button is-info",onClick:t[15]||(t[15]=(...t)=>e.finishTournament&&e.finishTournament(...t))},"Finish tournament")])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),"Games"===r.activeTab?((0,a.wg)(),(0,a.j4)(c,{key:3,rankingTeams:i.rankingTeams,activeRound:i.activeRound,"teams-in-group":r.teamsInGroup,onOpenResults:t[16]||(t[16]=e=>r.activeTab="Ranking")},null,8,["rankingTeams","activeRound","teams-in-group"])):(0,a.kq)("",!0),"Results"===r.activeTab?((0,a.wg)(),(0,a.j4)(d,{key:4})):(0,a.kq)("",!0),"Ranking"===r.activeTab?((0,a.wg)(),(0,a.iD)("div",yn,[(0,a.Wm)(h,{tournament:i.tournament,rankingTeams:i.rankingTeams,activeRound:i.activeRound},null,8,["tournament","rankingTeams","activeRound"]),!i.tournament.playOff&&i.tournament.teams.length>1?((0,a.wg)(),(0,a.iD)("div",vn,[(0,a._)("div",kn,[bn,(0,a._)("div",Tn,[xn,(0,a._)("div",Dn,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[17]||(t[17]=e=>r.teamToPlayOff=e)},[i.tournament.teams.length>=2?((0,a.wg)(),(0,a.iD)("option",On,"2")):(0,a.kq)("",!0),i.tournament.teams.length>=4?((0,a.wg)(),(0,a.iD)("option",In,"4")):(0,a.kq)("",!0),i.tournament.teams.length>=8?((0,a.wg)(),(0,a.iD)("option",Rn,"8")):(0,a.kq)("",!0),i.tournament.teams.length>=16?((0,a.wg)(),(0,a.iD)("option",Cn,"16")):(0,a.kq)("",!0),i.tournament.teams.length>=32?((0,a.wg)(),(0,a.iD)("option",Sn,"32")):(0,a.kq)("",!0),i.tournament.teams.length>=64?((0,a.wg)(),(0,a.iD)("option",Mn,"64")):(0,a.kq)("",!0)],512),[[s.bM,r.teamToPlayOff,void 0,{number:!0}]])]),(0,a._)("button",{onClick:t[18]||(t[18]=(...e)=>i.startPlayOff&&i.startPlayOff(...e)),class:"button is-success ml-3"},"Go!")])]),"swiss"===i.tournament.system?((0,a.wg)(),(0,a.iD)("div",Pn,[(0,a._)("label",zn,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=e=>r.playB=e)},null,512),[[s.e8,r.playB]]),qn,Bn,En])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),r.showSaveTournament?((0,a.wg)(),(0,a.j4)(p,{key:6,"ranking-teams":i.rankingTeams,onCloseModal:t[20]||(t[20]=e=>r.showSaveTournament=!1)},null,8,["ranking-teams"])):(0,a.kq)("",!0),r.removeConfirm?((0,a.wg)(),(0,a.j4)(g,{key:7,onCloseModal:t[21]||(t[21]=e=>r.removeConfirm=!1)})):(0,a.kq)("",!0),r.changeNameModal?((0,a.wg)(),(0,a.j4)(_,{key:8,onCloseModal:t[22]||(t[22]=e=>r.changeNameModal=!1)})):(0,a.kq)("",!0),r.showPreferences?((0,a.wg)(),(0,a.j4)(f,{key:9,onCloseModal:t[23]||(t[23]=e=>r.showPreferences=!1)})):(0,a.kq)("",!0)])}const An={key:0,class:"columns"},Un={class:"column is-three-fifths"},Hn={class:"field control"},Ln={class:"column is-two-fifths"},jn={class:"field control"},$n={class:"columns"},Yn={class:"column is-three-fifths-desktop is-two-fifths-tablet"},Gn={class:"field control"},Kn={key:0,class:"column is-one-fifth"},Vn={class:"field control"},Fn={class:"column is-one-fifth-desktop is-two-fifths-tablet is-full-mobile"},Wn={class:"field control"},Jn={class:"checkbox"},Zn=["checked"],Qn=(0,a.Uk)(" Use team rating for drawing ");function Xn(e,t,n,o,r,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.importHidden?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",An,[(0,a._)("div",Un,[(0,a._)("div",Hn,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.tournamentId=e),onKeydown:t[1]||(t[1]=(0,s.D2)(((...e)=>i.importList&&i.importList(...e)),["enter"])),class:"input",type:"number",placeholder:"Tournament ID"},null,544),[[s.nr,r.tournamentId]])])]),(0,a._)("div",Ln,[(0,a._)("div",jn,[(0,a._)("button",{class:"button is-success is-fullwidth",onClick:t[2]||(t[2]=(...e)=>i.importList&&i.importList(...e))},"Import from portal")])])])),(0,a._)("div",$n,[(0,a._)("div",Yn,[(0,a._)("div",Gn,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.teamTitle=e),onKeyup:t[4]||(t[4]=(0,s.D2)((e=>i.addTeam(r.teamTitle,r.teamRating)),["enter"])),class:"input",type:"text",placeholder:"Team title"},null,544),[[s.nr,r.teamTitle]])])]),i.tournament.useRating?((0,a.wg)(),(0,a.iD)("div",Kn,[(0,a._)("div",Vn,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.teamRating=e),onKeyup:t[6]||(t[6]=(0,s.D2)((e=>i.addTeam(r.teamTitle,r.teamRating)),["enter"])),class:"input",type:"number",id:"rating",placeholder:"Rating"},null,544),[[s.nr,r.teamRating]])])])):(0,a.kq)("",!0),(0,a._)("div",Fn,[(0,a._)("div",Wn,[(0,a._)("button",{class:"button is-success is-fullwidth",onClick:t[7]||(t[7]=e=>i.addTeam(r.teamTitle,r.teamRating))},"Add team")])])]),(0,a._)("div",null,[(0,a._)("label",Jn,[(0,a._)("input",{type:"checkbox",checked:i.tournament.useRating,onChange:t[8]||(t[8]=t=>e.changeDrawType(t.target.checked))},null,40,Zn),Qn])])],64)}var es={name:"AddTeam",props:["importHidden"],data(){return{teamTitle:null,teamRating:null,tournamentId:null}},emits:["add-team","change-draw-style"],computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.tournaments[this.currentTournamentIndex]}},methods:{...(0,r.OI)(["addTeamToStore","changeDrawType","showMessage","setTournamentIdFromPortal"]),addTeam(e,t,n=!1){if(null!==e&&""!==e){let s=!1;if(this.tournament.teams.forEach((t=>{t.title===e&&(s=!0)})),s)this.showMessage({title:"Error",text:"Such team already registered! Change team title, please",type:"error"});else{const s={title:e.trim(),rating:t,players:n,wins:0,buhgolts:0,smallBuhgolts:0,pointsPlus:0,pointsMinus:0,opponents:[]};this.addTeamToStore(s),this.teamTitle=null,this.teamRating=null}}else this.showMessage({title:"Error",text:"Enter fields to add team",type:"error"})},async importList(){let e=await fetch(`https://portal.petanque.org.ua/tournament/team_export/${this.tournamentId}?format=json`);if(e.ok){let t=await e.json();t.teams.forEach((e=>{this.addTeam(e.name,+e.power,e.players)})),this.setTournamentIdFromPortal(this.tournamentId)}else alert("Error"+e.status)}}};const ts=(0,l.Z)(es,[["render",Xn]]);var ns=ts;const ss={class:"content tabs-content"},as={key:1},os={class:"field is-grouped"},rs={key:0,class:"control"},is={key:1,class:"control"},ls={key:0},us=(0,a.Uk)("Show "),ms={key:0},cs=(0,a.Uk)(),ds={key:1},hs=(0,a.Uk)(" View "),ps={class:"text-center"},gs={class:"games-list"},_s=["for"],fs={class:"text-center score-block"},ws=["id","onUpdate:modelValue","disabled"],ys={class:"lane-block is-size-7"},vs=(0,a.Uk)(" Lane "),ks={class:"is-size-5 has-text-weight-bold"},bs=["id","onUpdate:modelValue","disabled"],Ts=["for"],xs={key:0,class:"has-text-centered has-text-danger mb-5"},Ds={class:"text-center mt-3"},Os=["disabled"],Is={key:0,class:"text-center mt-3"},Rs={key:1,class:"has-text-danger mt-3"},Cs={key:1},Ss={key:2},Ms={key:3,class:"mb-5 mt-5"},Ps=(0,a.Uk)(" Please, click on button to draw "),zs=(0,a.Uk)(" round ");function qs(e,t,n,o,r,i){const l=(0,a.up)("PlayOff");return(0,a.wg)(),(0,a.iD)("div",ss,[i.tournament.playOff?((0,a.wg)(),(0,a.j4)(l,{key:0,onOpenResults:t[0]||(t[0]=t=>e.$emit("openResults"))})):((0,a.wg)(),(0,a.iD)("div",as,[(0,a._)("div",os,[!i.tournament.playOff&&!i.tournament.roundIsActive&&i.tournament.games.length<i.teamsCount?((0,a.wg)(),(0,a.iD)("div",rs,[(0,a._)("button",{class:"button is-info",onClick:t[1]||(t[1]=(...e)=>i.drawRound&&i.drawRound(...e))},(0,D.zw)(1===n.activeRound?"First":`Draw ${n.activeRound}`)+" Round ",1)])):(0,a.kq)("",!0),i.tournament.roundIsActive?((0,a.wg)(),(0,a.iD)("div",is,[(0,a._)("button",{class:"button is-info",onClick:t[2]||(t[2]=(...e)=>i.shuffleLanes&&i.shuffleLanes(...e))}," Shuffle lanes ")])):(0,a.kq)("",!0)]),i.tournament.games.length&&i.tournament.roundIsActive?((0,a.wg)(),(0,a.iD)("div",ls,[(0,a._)("button",{class:"button is-info is-hidden-tablet",onClick:t[3]||(t[3]=e=>r.compactView=!r.compactView)},[us,r.compactView?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",ms," Compact ")),cs,r.compactView?((0,a.wg)(),(0,a.iD)("span",ds," Full ")):(0,a.kq)("",!0),hs]),(0,a._)("h2",ps,"Round "+(0,D.zw)(n.activeRound),1),(0,a._)("div",gs,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tournament.games[n.activeRound-1],((e,n)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,D.C_)(["game-row",{compact:r.compactView}]),key:n},[(0,a._)("span",{class:(0,D.C_)(["text-right team-block",{"has-text-weight-bold is-underlined":e.team_1_score>e.team_2_score}])},[(0,a._)("label",{for:"team_"+n},(0,D.zw)(e.team_1),9,_s)],2),(0,a._)("span",fs,[r.compactView?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,id:"team_"+n,"onUpdate:modelValue":t=>e.team_1_score=t,class:"input -small",type:"number",disabled:"Technical"===e.team_2,onKeyup:t[4]||(t[4]=(0,s.D2)(((...e)=>i.saveResults&&i.saveResults(...e)),["enter"]))},null,40,ws)),[[s.nr,e.team_1_score]]),(0,a._)("span",ys,[vs,(0,a._)("span",ks,(0,D.zw)(n+1),1)]),r.compactView?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:1,id:"opponent_"+n,"onUpdate:modelValue":t=>e.team_2_score=t,class:"input -small",type:"number",disabled:"Technical"===e.team_2,onKeyup:t[5]||(t[5]=(0,s.D2)(((...e)=>i.saveResults&&i.saveResults(...e)),["enter"]))},null,40,bs)),[[s.nr,e.team_2_score]])]),(0,a._)("span",{class:(0,D.C_)(["team-block",{"has-text-weight-bold is-underlined":e.team_2_score>e.team_1_score}])},[(0,a._)("label",{for:"opponent_"+n},(0,D.zw)(e.team_2),9,Ts)],2)],2)))),128)),r.scoreError?((0,a.wg)(),(0,a.iD)("div",xs,"Something wrong in games results ")):(0,a.kq)("",!0)]),(0,a._)("div",Ds,[(0,a._)("button",{class:"button is-success",onClick:t[6]||(t[6]=(...e)=>i.saveResults&&i.saveResults(...e)),disabled:r.saveDisabled},"Save results",8,Os)]),"swiss"===i.tournament.system&&i.tournament.games.length>1&&i.tournament.roundIsActive?((0,a.wg)(),(0,a.iD)("div",Is,[(0,a._)("button",{class:"button is-danger",onClick:t[7]||(t[7]=(...e)=>i.restoreRoundGames&&i.restoreRoundGames(...e))}," Restore previous round ")])):(0,a.kq)("",!0),r.saveDisabled?((0,a.wg)(),(0,a.iD)("div",Rs,"There was an unexpectable error, sorry for that, you can write developer about it (contact in footer), but this will not help you in this situation:)) ")):(0,a.kq)("",!0)])):0===i.tournament.games.length?((0,a.wg)(),(0,a.iD)("div",Cs,"No games, yet")):i.tournament.games.length>=i.teamsCount?((0,a.wg)(),(0,a.iD)("div",Ss,"Rounds quantity can't be more than teams")):((0,a.wg)(),(0,a.iD)("div",Ms,[Ps,(0,a._)("b",null,(0,D.zw)(1===n.activeRound?"first":n.activeRound),1),zs]))]))])}const Bs={class:"is-flex is-justify-content-space-between is-align-content-center"},Es=(0,a._)("h2",null,"PlayOff",-1),Ns={key:0,class:"column play-off-stage-wrapper"},As={key:0,class:"has-text-centered is-size-4"},Us=(0,a.Uk)(" Tournament has finished. "),Hs={class:"text-center"},Ls={class:"text-right team-block"},js=["for"],$s={class:"text-center score-block"},Ys=["id","onUpdate:modelValue"],Gs={class:"lane-block is-size-7"},Ks=(0,a.Uk)(" Lane "),Vs={class:"is-size-5 has-text-weight-bold"},Fs=["id","onUpdate:modelValue"],Ws={class:"team-block"},Js=["for"],Zs={key:0},Qs=(0,a._)("h3",{class:"text-center mt-5"},"Game for 3d place",-1),Xs={class:"game-row"},ea={class:"text-right team-block"},ta={for:"team_1_3p"},na={class:"text-center score-block"},sa=(0,a._)("span",{class:"lane-block is-size-7"},[(0,a.Uk)(" Lane "),(0,a._)("span",{class:"is-size-5 has-text-weight-bold"},"2")],-1),aa={class:"team-block"},oa={for:"opponent_3p"},ra={key:1,class:"has-text-centered has-text-danger mb-5"},ia={class:"text-center mt-5"};function la(e,t,n,o,r,i){const l=(0,a.up)("Bracket");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Bs,[Es,(0,a._)("button",{class:"button is-info",onClick:t[0]||(t[0]=e=>r.showBracket=!0)},"Show play off bracket")]),i.playOffBracket?((0,a.wg)(),(0,a.iD)("div",Ns,[0===i.playOffStageCurrent?((0,a.wg)(),(0,a.iD)("div",As,[Us,(0,a._)("a",{href:"#",onClick:t[1]||(t[1]=(0,s.iM)((t=>e.$emit("openResults")),["prevent"]))},"See result")])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("h2",Hs,(0,D.zw)(1===i.playOffStageCurrent?"Final":"1/"+i.playOffStageCurrent+" final"),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.playOffBracket.stages[i.currentPlayOffBracketIndex].teams,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"game-row",key:n},[(0,a._)("span",Ls,[(0,a._)("label",{for:"team_"+n},(0,D.zw)(e.team_1),9,js)]),(0,a._)("span",$s,[(0,a.wy)((0,a._)("input",{id:"team_"+n,"onUpdate:modelValue":t=>e.team_1_score=t,class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[2]||(t[2]=(0,s.D2)(((...e)=>i.saveResults&&i.saveResults(...e)),["enter"]))},null,40,Ys),[[s.nr,e.team_1_score]]),(0,a._)("span",Gs,[Ks,(0,a._)("span",Vs,(0,D.zw)(n+1),1)]),(0,a.wy)((0,a._)("input",{id:"opponent_"+n,"onUpdate:modelValue":t=>e.team_2_score=t,class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[3]||(t[3]=(0,s.D2)(((...e)=>i.saveResults&&i.saveResults(...e)),["enter"]))},null,40,Fs),[[s.nr,e.team_2_score]])]),(0,a._)("span",Ws,[(0,a._)("label",{for:"opponent_"+n},(0,D.zw)(e.team_2),9,Js)])])))),128)),1===i.playOffStageCurrent&&i.tournament.playOff.length>1?((0,a.wg)(),(0,a.iD)("div",Zs,[Qs,(0,a._)("div",Xs,[(0,a._)("span",ea,[(0,a._)("label",ta,(0,D.zw)(i.playOffBracket.thirdPlace.team_1),1)]),(0,a._)("span",na,[(0,a.wy)((0,a._)("input",{id:"team_1_3p","onUpdate:modelValue":t[4]||(t[4]=e=>i.playOffBracket.thirdPlace.team_1_score=e),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[5]||(t[5]=(0,s.D2)(((...e)=>i.saveResults&&i.saveResults(...e)),["enter"]))},null,544),[[s.nr,i.playOffBracket.thirdPlace.team_1_score]]),sa,(0,a.wy)((0,a._)("input",{id:"opponent_3p","onUpdate:modelValue":t[6]||(t[6]=e=>i.playOffBracket.thirdPlace.team_2_score=e),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[7]||(t[7]=(0,s.D2)(((...e)=>i.saveResults&&i.saveResults(...e)),["enter"]))},null,544),[[s.nr,i.playOffBracket.thirdPlace.team_2_score]])]),(0,a._)("span",aa,[(0,a._)("label",oa,(0,D.zw)(i.playOffBracket.thirdPlace.team_2),1)])])])):(0,a.kq)("",!0),r.scoreError?((0,a.wg)(),(0,a.iD)("div",ra,"Something wrong in games results")):(0,a.kq)("",!0),(0,a._)("div",ia,[(0,a._)("button",{class:"button is-success",onClick:t[8]||(t[8]=(...e)=>i.saveResults&&i.saveResults(...e))},"Save results")])],64))])):(0,a.kq)("",!0),r.showBracket?((0,a.wg)(),(0,a.j4)(l,{key:1,bracket:i.playOffBracket,onCloseModal:t[9]||(t[9]=e=>r.showBracket=!1)},null,8,["bracket"])):(0,a.kq)("",!0)])}const ua={class:"modal is-active"},ma={class:"modal-content"},ca={class:"columns play-off-wrapper"},da={class:"has-text-centered has-text-weight-bold mb-3"},ha={class:"play-off-team"},pa={key:0,class:"play-off-team-place"},ga={class:"play-off-team-score"},_a={class:"play-off-team"},fa={key:0,class:"play-off-team-place"},wa={class:"play-off-team-score"},ya=(0,a._)("div",{class:"has-text-centered has-text-weight-bold mb-3 third-place-title"},"Third Place",-1),va={class:"play-off-team"},ka={class:"play-off-team-score"},ba={class:"play-off-team"},Ta={class:"play-off-team-score"},xa={key:0,style:{height:"80px"}};function Da(e,t,n,o,r,i){return(0,a.wg)(),(0,a.iD)("div",ua,[(0,a._)("div",{class:"modal-background",onClick:t[0]||(t[0]=(0,s.iM)((t=>e.$emit("close-modal")),["self"]))}),(0,a._)("div",ma,[(0,a._)("div",ca,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.bracket.stages,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"column play-off-stage-wrapper"},[(0,a._)("div",da,(0,D.zw)(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),(0,a._)("div",{class:"play-off-stage",ref_for:!0,ref:"stage"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.teams,((n,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:"play-off-game box"},[0!==t?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"play-off-game-vertical-line -top",style:(0,D.j5)({height:i.stageHeight/e.teamsCount/2+"px"})},null,4)):(0,a.kq)("",!0),0!==t?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"play-off-game-vertical-line -bottom",style:(0,D.j5)({height:i.stageHeight/e.teamsCount/2+"px"})},null,4)):(0,a.kq)("",!0),(0,a._)("div",ha,[n.team_1_place?((0,a.wg)(),(0,a.iD)("span",pa,(0,D.zw)(n.team_1_place),1)):(0,a.kq)("",!0),(0,a._)("span",{class:(0,D.C_)(["play-off-team-title",{"has-text-grey-lighter":!n.team_1}])},(0,D.zw)(n.team_1||"Someone"),3),(0,a._)("span",ga,(0,D.zw)(n.team_1_score),1)]),(0,a._)("div",_a,[n.team_2_place?((0,a.wg)(),(0,a.iD)("span",fa,(0,D.zw)(n.team_2_place),1)):(0,a.kq)("",!0),(0,a._)("span",{class:(0,D.C_)(["play-off-team-title",{"has-text-grey-lighter":!n.team_2}])},(0,D.zw)(n.team_2||"Lucky guy"),3),(0,a._)("span",wa,(0,D.zw)(n.team_2_score),1)])])))),128)),1===e.stageLabel?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,D.C_)(["play-off-game box third-place",{"third-place-bottom":2===n.bracket.stages.length}])},[ya,(0,a._)("div",va,[(0,a._)("span",{class:(0,D.C_)(["play-off-team-title",{"has-text-grey-lighter":!n.bracket.thirdPlace.team_1}])},(0,D.zw)(n.bracket.thirdPlace.team_1||"Someone"),3),(0,a._)("span",ka,(0,D.zw)(n.bracket.thirdPlace.team_1_score),1)]),(0,a._)("div",ba,[(0,a._)("span",{class:(0,D.C_)(["play-off-team-title",{"has-text-grey-lighter":!n.bracket.thirdPlace.team_2}])},(0,D.zw)(n.bracket.thirdPlace.team_2||"Lucky guy"),3),(0,a._)("span",Ta,(0,D.zw)(n.bracket.thirdPlace.team_2_score),1)])],2)):(0,a.kq)("",!0)],512)])))),128))]),2===n.bracket.stages.length?((0,a.wg)(),(0,a.iD)("div",xa)):(0,a.kq)("",!0)]),(0,a._)("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=t=>e.$emit("close-modal"))})])}var Oa={name:"Bracket",props:["bracket"],emits:["close-modal"],data(){return{isMounted:!1}},mounted(){this.isMounted=!0},computed:{stageHeight(){return this.isMounted?this.$refs.stage[0].offsetHeight:100}}};const Ia=(0,l.Z)(Oa,[["render",Da]]);var Ra=Ia,Ca={name:"PlayOff",emits:["openResults"],components:{Bracket:Ra},data(){return{scoreError:!1,showBracket:!1}},mounted(){this.tournament.playOffBracket||this.getPlayOffBracket()},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.tournaments[this.currentTournamentIndex]},playOffStageCurrent(){return"playOffStage"in this.tournament?this.tournament.playOffStage:this.tournament.playOff[0].stage},playOffBracket(){return this.tournament.playOffBracket?this.tournament.playOffBracket:null},stagesCount(){return Math.log(2*this.tournament.playOff.length)/Math.log(2)},currentPlayOffBracketIndex(){return this.tournament.playOffBracket?this.tournament.playOffBracket.stages.findIndex((e=>e.stageLabel===this.playOffStageCurrent)):"0"}},methods:{...(0,r.OI)(["finishTournament","setPlayOffBracket","setPlayOffStage"]),saveResults(){this.scoreError=!1;const e=e=>null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13;if(this.playOffBracket.stages[this.currentPlayOffBracketIndex].teams.some((t=>e(t))))return this.scoreError=!0,!1;if(2===this.playOffBracket.stages[this.currentPlayOffBracketIndex].teamsCount)this.setPlayOffStage(0),this.finishTournament();else{let e=JSON.parse(JSON.stringify(this.playOffBracket));e.stages[this.currentPlayOffBracketIndex].teams.forEach(((t,n)=>{n%2===0?(e.stages[this.currentPlayOffBracketIndex+1].teams[n/2].team_1=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===e.stages[this.currentPlayOffBracketIndex].teamsCount&&(e.thirdPlace.team_1=t.team_1_score<t.team_2_score?t.team_1:t.team_2)):(e.stages[this.currentPlayOffBracketIndex+1].teams[(n-1)/2].team_2=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===e.stages[this.currentPlayOffBracketIndex].teamsCount&&(e.thirdPlace.team_2=t.team_1_score<t.team_2_score?t.team_1:t.team_2))})),this.setPlayOffBracket(e),this.setPlayOffStage(this.playOffStageCurrent/2)}},getPlayOffBracket(){let e={stages:[],thirdPlace:{}};for(let t=this.stagesCount;t>0;t--){const n=Math.pow(2,t),s=n/2;let a=[];if(t===this.stagesCount)a=this.tournament.playOff;else for(let e=1;e<=s;e++){const e={id:t+1,stage:s,team_1:null,team_1_score:null,team_2:null,team_2_score:null};a.push(e)}const o={teamsCount:n,stageLabel:s,teams:a};e.stages.push(o)}this.setPlayOffBracket(e)}}};const Sa=(0,l.Z)(Ca,[["render",la]]);var Ma=Sa,Pa={name:"Games",components:{PlayOff:Ma},props:["activeRound","teamsInGroup","rankingTeams"],data(){return{saveDisabled:!1,scoreError:!1,compactView:!1}},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex","isAdmin"]),tournament(){return this.tournaments[this.currentTournamentIndex]},teamsCount(){return"swiss"===this.tournament.system?this.tournament.teams.length-1:this.tournament.groups?this.tournament.groups[0].length%2!==0?this.tournament.groups[0].length:this.tournament.groups[0].length-1:this.tournament.teams.length-1}},methods:{...(0,r.OI)(["startRound","endRound","addRoundToGames","restoreRound","showMessage"]),shuffleLanes(){this.tournament.games[this.tournament.games.length-1]=this.shuffleArray(this.tournament.games[this.tournament.games.length-1])},getRandomWithOneExclusion(e,t=null,n=null){let s=null;while(null===s||s===t||s===n)s=Math.round(Math.random()*(e-1));return s},generateCompetitors(e,t=!1){let n,s;if(console.log(e),1!==this.activeRound||this.tournament.useRating){n=t?e.length-1:0;const s=1===this.activeRound?e.length/2:1;let a=t?e.length-2:s;while(e[n].opponents.includes(e[a].title))if(t?a--:a++,!e[a])return a=-1,{teamIndex:n,opponentIndex:a};return{teamIndex:n,opponentIndex:a}}return n=this.getRandomWithOneExclusion(e.length),s=this.getRandomWithOneExclusion(e.length,n),{teamIndex:n,opponentIndex:s}},drawRound(){let e,t=JSON.parse(JSON.stringify(this.rankingTeams)),n=[];if("swiss"===this.tournament.system){t.sort(((e,t)=>t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating));let s,a=0,o=Math.round(t.length/2-1),r=[];const i=t.length%2!==0;if(i){let s=this.tournament.useRating||1!==this.activeRound?t.length-1:this.getRandomWithOneExclusion(t.length),a=t[s];if(a.opponents.includes("Technical"))for(let e=2;e<t.length;e++)if(s=t.length-e,a=t[s],!a.opponents.includes("Technical"))break;e={team_1:a.title,team_1_score:this.tournament.preferences.technical.technicalFirst,team_2:"Technical",team_2_score:this.tournament.preferences.technical.technicalSecond},n.push(e),t.splice(s,1)}while(t.length>0){s=this.generateCompetitors(t,a>0);while(-1===s.opponentIndex&&a<o)a++,n.splice(n.length-1,1),t.unshift(r[r.length-1]),t.unshift(r[r.length-2]),r.splice(r.length-2,2),s=this.generateCompetitors(t,!0);if(a===o&&-1===s.opponentIndex)return this.saveDisabled=!0,void this.showMessage({title:"Can't draw this round",text:"Too mush games for swiss with this number of teams. Sorry, shit happens",type:"error"});e={team_1:t[s.teamIndex].title,team_1_score:null,team_2:t[Math.floor(s.opponentIndex)].title,team_2_score:null},r.push(t[s.teamIndex],t[Math.floor(s.opponentIndex)]);let i=[t[s.teamIndex].title,t[Math.floor(s.opponentIndex)].title];t=t.filter((e=>!i.includes(e.title))),e?n.push(e):console.log("Game is empty")}}else if("groups"===this.tournament.system)1===this.activeRound&&this.createGroups(),this.tournament.groups&&this.tournament.groups.forEach(((t,s)=>{const a=t.length%2!==0;if(this.tournament.games.length<(a?t.length:t.length-1)){for(let o=0;o<this.tournament.groupsScheme[s].top.length;o++)(!a||a&&this.tournament.groupsScheme[s].top[o]!==t.length&&this.tournament.groupsScheme[s].bottom[o]!==t.length)&&(e={group:s,team_1:t[this.tournament.groupsScheme[s].top[o]].title,team_1_score:null,team_2:t[this.tournament.groupsScheme[s].bottom[o]].title,team_2_score:null},n.push(e));this.tournament.groupsScheme[s].bottom.push(this.tournament.groupsScheme[s].top[this.tournament.groupsScheme[s].top.length-1]),this.tournament.groupsScheme[s].top.unshift(this.tournament.groupsScheme[s].bottom[0]),this.tournament.groupsScheme[s].top.splice(this.tournament.groupsScheme[s].top.length-1,1),this.tournament.groupsScheme[s].top.splice(1,1),this.tournament.groupsScheme[s].top.unshift(0),this.tournament.groupsScheme[s].bottom.splice(0,1)}}));else if("supermele"===this.tournament.system){const t=this.tournament.teams.length;let s=Math.floor(t/this.tournament.supermelePlayers);while(s%2!==0)s=2==this.tournament.supermelePlayers?s-1:s+1;t>3*s&&(s+=2);let a={doubles:2==this.tournament.supermelePlayers?s:0,triples:3==this.tournament.supermelePlayers?s:0},o=2*a.doubles+3*a.triples;while(o!==t)2==this.tournament.supermelePlayers?(a.doubles--,a.triples++):(a.triples--,a.doubles++),o=2*a.doubles+3*a.triples;let r=JSON.parse(JSON.stringify(this.rankingTeams));console.log(r);let i=[];for(let e=1;e<=a.doubles;e++){const e=this.getRandomWithOneExclusion(r.length);let t,n=this.getRandomWithOneExclusion(r.length,e);while(t<100&&r[e].opponents.includes(r[n].title))n=this.getRandomWithOneExclusion(r.length,e),t++;i.push({title:r[e].title+", "+r[n].title,players:[r[e].title,r[n].title]});let s=[r[e].title,r[n].title];r=r.filter((e=>!s.includes(e.title)))}for(let e=1;e<=a.triples;e++){const e=this.getRandomWithOneExclusion(r.length);let t=this.getRandomWithOneExclusion(r.length,e),n=this.getRandomWithOneExclusion(r.length,e,t),s=1;while(s<100&&r[e].opponents.includes(r[t].title))t=this.getRandomWithOneExclusion(r.length,e),s++;let a=1;while(a<100&&r[e].opponents.includes(r[n].title)&&r[t].opponents.includes(r[n].title))n=this.getRandomWithOneExclusion(r.length,e,t),a++;console.log(i),i.push({title:r[e].title+", "+r[t].title+", "+r[n].title,players:[r[e].title,r[t].title,r[n].title]});let o=[r[e].title,r[t].title,r[n].title];r=r.filter((e=>!o.includes(e.title)))}for(let l=0;l<s/2;l++)e={team_1:i[0].title,team_1_players:i[0].players,team_1_score:null,team_2:i[1].title,team_2_players:i[1].players,team_2_score:null},n.push(e),i.splice(0,2)}this.addRoundToGames(this.shuffleArray(n)),this.startRound()},createGroups(){if(this.teamsInGroup<3)return this.showMessage({title:"Can't draw",text:"Choose correct number of teams in group",type:"error"}),!1;const e=Math.round(this.tournament.teams.length/this.teamsInGroup);let t=[];for(let a=1;a<=e;a++)t.push([]);let n=JSON.parse(JSON.stringify(this.tournament.teams.sort(((e,t)=>t.rating-e.rating))));if(this.tournament.useRating&&2===e&&n.length<33){const e={0:[1,32,16,17,9,24,8,25,5,28,12,21,13,20,4,29],1:[3,30,14,19,11,22,6,27,7,26,10,23,15,18,2,31]};Object.keys(e).forEach((s=>{e[s].forEach((e=>{const a=n[e-1]?this.tournament.teams.findIndex((t=>t.title===n[e-1].title)):-1;-1!==a&&t[s].push(this.tournament.teams[a])}))}))}else while(n.length>=1)for(let s=0;s<n.length;s++)for(let a=0;a<e;a++){const e=this.tournament.useRating?0:this.getRandomWithOneExclusion(n.length);if(-1!==e&&n.length>=1){const s=this.tournament.teams.findIndex((t=>t.title===n[e].title));t[a].push(this.tournament.teams[s]),n.splice(e,1)}}this.tournament.groups=t;let s=[];this.tournament.groups.forEach((e=>{e.sort(((e,t)=>t.rating-e.rating));let t=[];e.forEach(((e,n)=>{t.push(n)})),e.length%2!==0&&t.push(e.length);let n={top:[],bottom:[]};for(let s=0;s<t.length/2;s++)n.top.push(s);for(let s=t.length-1;s>=t.length/2;s--)n.bottom.push(s);s.push(n)})),this.tournament.groupsScheme=s},saveResults(){this.scoreError=!1;const e=e=>e.team_1_score===e.team_2_score||null===e.team_1_score||e.team_1_score<0||e.team_1_score>this.tournament.preferences.maxScore||null===e.team_2_score||e.team_2_score<0||e.team_2_score>this.tournament.preferences.maxScore;if(this.tournament.games[this.activeRound-1].some((t=>e(t))))return this.scoreError=!0,!1;this.saveResultsForRound(this.activeRound-1),this.endRound(),this.showMessage({title:"Success",text:"Your results saved"})},restoreRoundGames(){this.restoreRound(),this.tournament.teams.forEach((e=>{e.opponents=[],e.pointsPlus=0,e.pointsMinus=0,e.wins=0}));for(let e=0;e<this.activeRound-2;e++)this.saveResultsForRound(e)},saveResultsForRound(e){"supermele"===this.tournament.system?this.tournament.games[e].forEach((e=>{console.log(e),e.team_1_players.forEach((t=>{const n=this.tournament.teams.findIndex((e=>e.title===t));if(-1!==n){const s=e.team_1_players.filter((e=>e!==t));s.forEach((e=>this.tournament.teams[n].opponents.push(e))),this.tournament.teams[n].pointsPlus+=e.team_1_score,this.tournament.teams[n].pointsMinus+=e.team_2_score,e.team_1_score>e.team_2_score&&this.tournament.teams[n].wins++}})),e.team_2_players.forEach((t=>{const n=this.tournament.teams.findIndex((e=>e.title===t));if(-1!==n){const s=e.team_2_players.filter((e=>e!==t));s.forEach((e=>this.tournament.teams[n].opponents.push(e))),this.tournament.teams[n].pointsPlus+=e.team_2_score,this.tournament.teams[n].pointsMinus+=e.team_1_score,e.team_2_score>e.team_1_score&&this.tournament.teams[n].wins++}}))})):this.tournament.games[e].forEach((e=>{const t=this.tournament.teams.findIndex((t=>t.title===e.team_1));-1!==t&&(this.tournament.teams[t].opponents.push(e.team_2),this.tournament.teams[t].pointsPlus+=e.team_1_score,this.tournament.teams[t].pointsMinus+=e.team_2_score);const n=this.tournament.teams.findIndex((t=>t.title===e.team_2));-1!==n&&(this.tournament.teams[n].opponents.push(e.team_1),this.tournament.teams[n].pointsPlus+=e.team_2_score,this.tournament.teams[n].pointsMinus+=e.team_1_score),e.team_1_score>e.team_2_score?-1!==t&&this.tournament.teams[t].wins++:-1!==!n&&"Technical"!==e.team_2&&this.tournament.teams[n].wins++}))},shuffleArray(e){let t,n=e.length;while(0!==n)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];if("swiss"===this.tournament.system&&this.tournament.teams.length%2!==0){const t=e.findIndex((e=>"Technical"===e.team_2)),n=e[t];e.splice(t,1),e.push(n)}return e}}};const za=(0,l.Z)(Pa,[["render",qs]]);var qa=za;const Ba={class:"content tabs-content"},Ea={key:0},Na={key:0,class:"has-text-centered"},Aa={key:0},Ua={key:1},Ha={key:2},La=(0,a.Uk)(" rounds"),ja={class:"table-container"},$a={key:0,class:"table is-striped mb-5"},Ya={key:1},Ga={class:"has-text-centered"},Ka={class:"table-container"},Va={class:"table is-striped"},Fa={key:0},Wa=(0,a._)("h4",{class:"has-text-centered"},"Game for 3d Place",-1),Ja={class:"table-container"},Za={class:"table is-striped"},Qa={key:1,class:"mb-5 mt-5"};function Xa(e,t,n,s,o,r){return(0,a.wg)(),(0,a.iD)("div",Ba,[r.tournament.games.length||r.tournament.playOffBracket?((0,a.wg)(),(0,a.iD)("div",Ea,[r.tournament.games.length?((0,a.wg)(),(0,a.iD)("h3",Na,["swiss"===r.tournament.system?((0,a.wg)(),(0,a.iD)("span",Aa,"Swiss")):"groups"===r.tournament.system?((0,a.wg)(),(0,a.iD)("span",Ua,"Group")):"supermele"===r.tournament.system?((0,a.wg)(),(0,a.iD)("span",Ha,"Supermele")):(0,a.kq)("",!0),La])):(0,a.kq)("",!0),(0,a._)("div",ja,[r.tournament.games.length?((0,a.wg)(),(0,a.iD)("table",$a,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tournament.games,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,n)=>((0,a.wg)(),(0,a.iD)("tr",{key:n},[(0,a._)("td",null,"R"+(0,D.zw)(t+1),1),(0,a._)("td",null,(0,D.zw)(e.team_1),1),(0,a._)("td",null,(0,D.zw)(e.team_1_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2),1)])))),128))],64)))),128))])])):(0,a.kq)("",!0)]),r.tournament.playOffBracket?((0,a.wg)(),(0,a.iD)("div",Ya,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tournament.playOffBracket.stages,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"mb-5"},[(0,a._)("h3",Ga,(0,D.zw)(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),(0,a._)("div",Ka,[(0,a._)("table",Va,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.teams,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,D.zw)(e.team_1),1),(0,a._)("td",null,(0,D.zw)(e.team_1_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2_score),1),(0,a._)("td",null,(0,D.zw)(e.team_2),1)])))),128))])])])])))),128)),r.tournament.playOffBracket.thirdPlace&&0!==Object.keys(r.tournament.playOffBracket.thirdPlace).length?((0,a.wg)(),(0,a.iD)("div",Fa,[Wa,(0,a._)("div",Ja,[(0,a._)("table",Za,[(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",null,(0,D.zw)(r.tournament.playOffBracket.thirdPlace.team_1),1),(0,a._)("td",null,(0,D.zw)(r.tournament.playOffBracket.thirdPlace.team_1_score),1),(0,a._)("td",null,(0,D.zw)(r.tournament.playOffBracket.thirdPlace.team_2_score),1),(0,a._)("td",null,(0,D.zw)(r.tournament.playOffBracket.thirdPlace.team_2),1)])])])])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",Qa," No games, yet "))])}var eo={name:"Results",props:["previewTournament"],computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.previewTournament||this.tournaments[this.currentTournamentIndex]}}};const to=(0,l.Z)(eo,[["render",Xa]]);var no=to;const so=(0,a._)("h2",null,"Current list",-1),ao={key:0,class:"mb-5"},oo={key:0,class:"mt-5 text-center"},ro={class:"table"},io={style:{width:"30px"}},lo={key:0,class:"is-size-7"},uo=(0,a.Uk)(" ("),mo={key:0},co=(0,a.Uk)(") "),ho={key:0,class:"td-100"},po={key:1,id:"table-list",class:"table"},go={key:0,class:"is-size-7"},_o=(0,a.Uk)(" ("),fo={key:0},wo=(0,a.Uk)(") "),yo={key:0,class:"td-100"},vo={key:1,class:"td-50"},ko=["onClick"];function bo(e,t,n,s,o,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[so,"groups"===r.tournament.system&&(n.activeRound>1||r.tournament.roundIsActive)?((0,a.wg)(),(0,a.iD)("div",ao,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tournament.groups,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[r.tournament.groups.length>1?((0,a.wg)(),(0,a.iD)("h4",oo,"Group "+(0,D.zw)(r.groupsNames[t]),1)):(0,a.kq)("",!0),(0,a._)("table",ro,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e.title},[(0,a._)("td",io,(0,D.zw)(t+1)+".",1),(0,a._)("td",null,[(0,a.Uk)((0,D.zw)(e.title)+" ",1),e.players&&e.players.length>1?((0,a.wg)(),(0,a.iD)("div",lo,[uo,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.players,((t,n)=>((0,a.wg)(),(0,a.iD)("span",{class:"has-text-dark",key:n},[(0,a.Uk)((0,D.zw)(t.name)+" "+(0,D.zw)(t.surname),1),n<e.players.length-1?((0,a.wg)(),(0,a.iD)("span",mo,", ")):(0,a.kq)("",!0)])))),128)),co])):(0,a.kq)("",!0)]),r.tournament.useRating?((0,a.wg)(),(0,a.iD)("td",ho,(0,D.zw)(e.rating),1)):(0,a.kq)("",!0)])))),128))])])))),128))])):((0,a.wg)(),(0,a.iD)("table",po,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tournament.teams,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.title},[(0,a._)("td",null,[(0,a.Uk)((0,D.zw)(t.title)+" ",1),t.players&&t.players.length>1?((0,a.wg)(),(0,a.iD)("div",go,[_o,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.players,((e,n)=>((0,a.wg)(),(0,a.iD)("span",{class:"has-text-dark",key:n},[(0,a.Uk)((0,D.zw)(e.name)+" "+(0,D.zw)(e.surname),1),n<t.players.length-1?((0,a.wg)(),(0,a.iD)("span",fo,", ")):(0,a.kq)("",!0)])))),128)),wo])):(0,a.kq)("",!0)]),r.tournament.useRating?((0,a.wg)(),(0,a.iD)("td",yo,(0,D.zw)(t.rating),1)):(0,a.kq)("",!0),"supermele"!==r.tournament.system&&r.tournament.games.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",vo,[(0,a._)("span",{class:"delete",onClick:n=>e.removeTeam(t.title)},null,8,ko)]))])))),128))]))],64)}var To={name:"TeamsList",props:["previewTournament","activeRound"],computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.previewTournament||this.tournaments[this.currentTournamentIndex]},groupsNames(){return c}},methods:{...(0,r.OI)(["removeTeam"])}};const xo=(0,l.Z)(To,[["render",bo]]);var Do=xo;const Oo=(0,a._)("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),Io={class:"field"},Ro={class:"control"},Co={key:0,class:"field has-text-danger"},So={class:"buttons is-centered"},Mo={class:"control"},Po={class:"control"};function zo(e,t,n,o,r,i){const l=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(l,{onCloseModal:t[4]||(t[4]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[Oo,(0,a._)("div",Io,[(0,a._)("div",Ro,[(0,a.wy)((0,a._)("input",{class:(0,D.C_)(["input",{"is-danger":r.hasError}]),"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),type:"text",placeholder:"Tournament name",onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>i.saveTournament&&i.saveTournament(...e)),["enter"]))},null,34),[[s.nr,r.name]])])]),r.hasError?((0,a.wg)(),(0,a.iD)("div",Co," It seems you already have such tournament name ")):(0,a.kq)("",!0),(0,a._)("div",So,[(0,a._)("div",Mo,[(0,a._)("button",{class:"button",onClick:t[2]||(t[2]=t=>e.$emit("close-modal"))},"Cancel")]),(0,a._)("div",Po,[(0,a._)("button",{class:"button is-success",onClick:t[3]||(t[3]=(...e)=>i.saveTournament&&i.saveTournament(...e))},"Save")])])])),_:1})}var qo={name:"SaveTournament",components:{Modal:Ot},props:["rankingTeams"],emits:["close-modal"],data(){return{name:"",hasError:!1}},created(){this.name=this.tournament.name},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex","savedTournaments"]),tournament(){return this.tournaments[this.currentTournamentIndex]},tournamentsNames(){if(this.savedTournaments.length>0){let e=[];return this.savedTournaments.forEach((t=>{e.push(t.name)})),e}return!1},tournamentRanking(){return h(this.tournament,this.rankingTeams)}},methods:{...(0,r.OI)(["addToSaved","showMessage"]),saveTournament(){if(this.hasError=!1,!this.tournament.name||this.tournamentsNames&&this.tournamentsNames.includes(this.name))this.hasError=!0;else{const e={name:this.name,system:this.tournament.system,tournamentIsFinished:this.tournament.tournamentIsFinished,games:this.tournament.games,teams:this.tournament.teams,playOff:this.tournament.playOffBracket?this.tournament.playOffBracket:null,ranking:this.tournamentRanking};this.addToSaved(e),this.$emit("close-modal"),this.showMessage({title:"Saved",text:"You can see your saved tournaments in the menu"})}}}};const Bo=(0,l.Z)(qo,[["render",zo]]);var Eo=Bo;const No={class:"text-center mb-4 is-size-4"},Ao=(0,a.Uk)("Are you sure you want to delete "),Uo=(0,a._)("br",null,null,-1),Ho=(0,a.Uk)("?"),Lo={class:"buttons is-centered"},jo={class:"control"},$o={class:"control"};function Yo(e,t,n,s,o,r){const i=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(i,{onCloseModal:t[2]||(t[2]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[(0,a._)("p",No,[Ao,Uo,(0,a._)("strong",null,(0,D.zw)(r.tournament.name),1),Ho]),(0,a._)("div",Lo,[(0,a._)("div",jo,[(0,a._)("button",{class:"button",onClick:t[0]||(t[0]=t=>e.$emit("close-modal"))},"Cancel")]),(0,a._)("div",$o,[(0,a._)("button",{class:"button is-danger",onClick:t[1]||(t[1]=(...e)=>r.removeCurrentTournament&&r.removeCurrentTournament(...e))},"Remove")])])])),_:1})}var Go={name:"ConfirmRemoveModal",components:{Modal:Ot},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.tournaments[this.currentTournamentIndex]}},methods:{...(0,r.OI)(["removeTournament"]),removeCurrentTournament(){this.removeTournament(),this.$emit("close-modal")}}};const Ko=(0,l.Z)(Go,[["render",Yo]]);var Vo=Ko;const Fo=(0,a._)("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),Wo={class:"field"},Jo={class:"control"},Zo={class:"buttons is-centered"},Qo={class:"control"},Xo={class:"control"};function er(e,t,n,o,r,i){const l=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(l,{onCloseModal:t[4]||(t[4]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[Fo,(0,a._)("div",Wo,[(0,a._)("div",Jo,[(0,a.wy)((0,a._)("input",{class:(0,D.C_)(["input",{"is-danger":r.hasError}]),"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),type:"text",placeholder:"Tournament name",onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>i.changeCurrentTournamentName&&i.changeCurrentTournamentName(...e)),["enter"]))},null,34),[[s.nr,r.name]])])]),(0,a._)("div",Zo,[(0,a._)("div",Qo,[(0,a._)("button",{class:"button",onClick:t[2]||(t[2]=t=>e.$emit("close-modal"))},"Cancel")]),(0,a._)("div",Xo,[(0,a._)("button",{class:"button is-success",onClick:t[3]||(t[3]=(...e)=>i.changeCurrentTournamentName&&i.changeCurrentTournamentName(...e))},"Change")])])])),_:1})}var tr={name:"ChangeTournamentName",components:{Modal:Ot},data(){return{name:"",hasError:!1}},created(){this.name=this.tournament.name},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.tournaments[this.currentTournamentIndex]}},methods:{...(0,r.OI)(["changeTournamentName"]),changeCurrentTournamentName(){this.hasError=!1,""!==this.name?(this.changeTournamentName(this.name),this.$emit("close-modal")):this.hasError=!0}}};const nr=(0,l.Z)(tr,[["render",er]]);var sr=nr;const ar=(0,a._)("div",{class:"is-size-3 mb-3 text-center"},"QRCode and link for tournament",-1),or={class:"text-center"},rr={class:"my-3"},ir=["href"],lr={class:"buttons is-centered"},ur={class:"control"};function mr(e,t,n,s,o,r){const i=(0,a.up)("qrcode-vue"),l=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(l,{onCloseModal:t[1]||(t[1]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[ar,(0,a._)("div",or,[(0,a.Wm)(i,{value:r.tournamentLink,size:o.size,level:"H"},null,8,["value","size"]),(0,a._)("div",rr,[(0,a._)("a",{href:r.tournamentLink,target:"_blank",class:"is-size-3 tournament-link"},(0,D.zw)(r.tournamentLink),9,ir)])]),(0,a._)("div",lr,[(0,a._)("div",ur,[(0,a._)("button",{class:"button",onClick:t[0]||(t[0]=e=>r.copyContent(r.tournamentLink))},"Copy link")])])])),_:1})}var cr=n(976),dr=n.n(cr),hr={name:"QrCode",components:{Modal:Ot,QrcodeVue:dr()},data(){return{size:300}},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournamentLink(){const e="/petanque-draw/dist/#/";return`${window.location.origin}${e}tournaments/${this.tournaments[this.currentTournamentIndex].portalIdTournament}`}},methods:{copyContent:p}};const pr=(0,l.Z)(hr,[["render",mr]]);var gr=pr,_r=n(355),fr=n(977),wr=n(61);const yr={apiKey:"AIzaSyBxMqWxQwI1OBhLk7wrzv0UhunvMTTgcgU",authDomain:"petanque-draw.firebaseapp.com",databaseURL:"https://petanque-draw-default-rtdb.europe-west1.firebasedatabase.app",projectId:"petanque-draw",storageBucket:"petanque-draw.appspot.com",messagingSenderId:"774303828599",appId:"1:774303828599:web:78c14845b68be7fd4e5472"},vr=(0,fr.ZF)(yr),kr=(0,_r.N8)(vr),br=(0,wr.KL)(vr),Tr=(0,a._)("div",{class:"is-size-2 mb-3"},"Tournament preferences",-1),xr={class:"table"},Dr=(0,a._)("td",{class:"is-size-5"},"Technical score",-1),Or=(0,a._)("td",{class:"is-size-5"},"Maximum score",-1),Ir=(0,a._)("td",null,null,-1),Rr={class:"buttons is-centered"},Cr={class:"control"};function Sr(e,t,n,o,r,i){const l=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(l,{onCloseModal:t[4]||(t[4]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[Tr,(0,a._)("table",xr,[(0,a._)("tr",null,[Dr,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>i.tournament.preferences.technical.technicalFirst=e),type:"number"},null,512),[[s.nr,i.tournament.preferences.technical.technicalFirst]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>i.tournament.preferences.technical.technicalSecond=e),type:"number"},null,512),[[s.nr,i.tournament.preferences.technical.technicalSecond]])])]),(0,a._)("tr",null,[Or,(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>i.tournament.preferences.maxScore=e),type:"number"},null,512),[[s.nr,i.tournament.preferences.maxScore]])]),Ir])]),(0,a._)("div",Rr,[(0,a._)("div",Cr,[(0,a._)("button",{class:"button",onClick:t[3]||(t[3]=t=>e.$emit("close-modal"))},"Close")])])])),_:1})}var Mr={name:"Preferences",components:{Modal:Ot},emits:["close-modal"],computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.tournaments[this.currentTournamentIndex]}},methods:{...(0,r.OI)(["savePreferences"]),save(e){this.savePreferences(e),this.$emit("close-modal")}}};const Pr=(0,l.Z)(Mr,[["render",Sr]]);var zr=Pr,qr={name:"Tournament",data(){return{tabs:["Teams","Games","Results","Ranking"],activeTab:"Teams",showSaveTournament:!1,teamToPlayOff:null,removeConfirm:!1,changeNameModal:!1,playB:!1,teamsInGroup:null,showQrCode:!1,showTypeMessage:!1,loadingOnServer:!1,showPreferences:!1}},created(){this.teamsInGroup=this.tournament.groups?this.tournament.groups.length:4},methods:{...(0,r.OI)(["startRound","removeTournament","setPlayOff","addBTournament","finishTournament","showMessage"]),saveTournament(e){this.savedTournaments.push(e),this.showSaveTournament=!1,localStorage.setItem("tournamentsList",JSON.stringify(this.savedTournaments))},startPlayOff(){let e;if("swiss"===this.tournament.system)e=this.rankingTeams.slice(0,this.teamToPlayOff);else if(this.tournament.groups.length>1){e=[];for(let t=0;t<this.teamToPlayOff/this.tournament.groups.length;t++)this.rankingTeams.forEach((n=>e.push(n[t])))}else e=this.rankingTeams[0].slice(0,this.teamToPlayOff);let t=[],n=e.length/2;for(let s=0;s<e.length/2;s++){let a={};a=s%2===0?{id:s+1,stage:n,team_1:e[s].title,team_1_place:s+1,team_1_score:null,team_2:e[e.length-1-s].title,team_2_place:e.length-s,team_2_score:null}:{id:s+1,stage:n,team_1:e[e.length/2-s].title,team_1_place:e.length/2+1-s,team_1_score:null,team_2:e[e.length/2-1+s].title,team_2_place:e.length/2+s,team_2_score:null},t.push(a)}if(8===n&&([t[2],t[4]]=[t[4],t[2]],[t[3],t[5]]=[t[5],t[3]]),this.setPlayOff(t),this.activeTab="Games",this.playB){const e=this.rankingTeams.slice(this.teamToPlayOff,this.rankingTeams.length).map((e=>({...e})));e.forEach((e=>{e.wins=0,e.buhgolts=0,e.smallBuhgolts=0,e.pointsPlus=0,e.pointsMinus=0,e.opponents=[]})),this.addBTournament(e)}},sortTeams(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");const t=e.sort(((e,t)=>t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating));return t},sortTeamsForSupermele(e){const t=e.sort(((e,t)=>t.wins-e.wins||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.pointsPlus-e.pointsPlus||t.rating-e.rating));return t},countBuhgolts(e,t){const n="buhgolts"===t?"wins":"buhgolts";return e.forEach((s=>{let a=0;s.opponents.length&&s.opponents.forEach((t=>{const s=e.findIndex((e=>e.title===t));-1!==s&&(a+=e[s][n])})),s[t]=a})),e},showInfoOnServer(){const e=this.tournament.portalIdTournament;let t=JSON.parse(JSON.stringify(this.tournament));delete t.gamesCopy,t.ranking=this.rankingTeams;let n=new URLSearchParams;n.append("meta",JSON.stringify(t));try{this.loadingOnServer=!0,fetch(`https://portal.petanque.org.ua/tournament/${e}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}).then((()=>{this.loadingOnServer=!1,this.sendNotification(),this.showMessage({title:"Success",text:"Tournament is live!"})}))}catch(s){alert(s),this.showMessage({title:"Error",type:"error",text:s})}},sendNotification(){const e=(0,_r.iH)((0,_r.N8)());let t=[];(0,_r.U2)((0,_r.iU)(e,"tokens")).then((e=>{if(e.exists()){for(let a in e.val())t.push(e.val()[a].token);t=new Set([...t]);const n="/petanque-draw/dist/#/",s=`${window.location.origin}${n}tournaments/${this.tournament.portalIdTournament}`;t.forEach((e=>{const t={to:e,data:{title:"New draw info is available",body:"Reload page to see updates",url:s},priority:"high"};fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"key=AAAAtEgaync:APA91bExQUfnpTYo2CRT1fn_So0pOWriu9Ri6OIjkQXbRDh-VNABGESd-_F_twcl762zcDcn379nAtXnreFi8YPGQWyMXqYChzUOTwuE5hBM6ntWhOzneV_obn-4O3_MMfYmx4S3kxrQ"},body:JSON.stringify(t)})}))}else console.log("No data available")})).catch((e=>{console.error(e)}))},removeNotificationsDb(){try{(0,_r.t8)((0,_r.iH)(kr,"tokens"),{}).then((()=>{this.showMessage({title:"Awesome!",text:"Notifications db was removed"})}))}catch(e){alert(e),this.showMessage({title:"Error",type:"error",text:e})}}},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex","isAdmin"]),tournament(){return this.tournaments[this.currentTournamentIndex]},canSaveTournament(){return this.tournament.tournamentIsFinished&&this.tournament.games&&this.tournament.games.length>1||this.tournament.playoff&&null!==this.tournament.playoff[this.tournament.playoff.length-1].teams[0].team_1_score},rankingTeams(){if("groups"===this.tournament.system&&this.activeRound>1){let e=[];return this.tournament.groups.forEach((t=>{t.forEach((e=>{const n=this.tournament.teams.find((t=>t.title===e.title));e.wins=n.wins,e.opponents=n.opponents,e.pointsPlus=n.pointsPlus,e.pointsMinus=n.pointsMinus;let s=0;e.opponents.forEach((n=>{const a=t.findIndex((e=>e.title===n));e.wins===t[a].wins&&(s+=d(this.tournament.games,e.title,t[a].title,!0))})),e.directPoints=s}));let n=t.slice().sort(((e,t)=>t.wins-e.wins||t.directPoints-e.directPoints||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)));e.push(n)})),e}return"supermele"===this.tournament.system?this.sortTeamsForSupermele(this.tournament.teams):this.sortTeams(this.tournament.teams)},activeRound(){return this.tournament.games.length?this.tournament.roundIsActive?this.tournament.games.length:this.tournament.games.length+1:1}},components:{Preferences:zr,QrCode:gr,ChangeTournamentName:sr,ConfirmRemoveModal:Vo,TeamsList:Do,AddTeam:ns,Games:qa,Results:no,Ranking:yt,SaveTournament:Eo}};const Br=(0,l.Z)(qr,[["render",Nn]]);var Er=Br,Nr=n.p+"img/logo.6a11ce3e.webp",Ar=n.p+"img/logo.74972a48.png";const Ur=Nr,Hr=Ar,Lr={class:"navbar",role:"navigation","aria-label":"main navigation"},jr={class:"navbar-brand"},$r=(0,a._)("a",{class:"navbar-item",href:"/"},[(0,a._)("picture",null,[(0,a._)("source",{srcset:Ur,type:"image/webp"}),(0,a._)("source",{srcset:Hr,type:"image/jpeg"}),(0,a._)("img",{src:Ar,alt:"logo"})])],-1),Yr=(0,a._)("span",{"aria-hidden":"true"},null,-1),Gr=(0,a._)("span",{"aria-hidden":"true"},null,-1),Kr=(0,a._)("span",{"aria-hidden":"true"},null,-1),Vr=[Yr,Gr,Kr],Fr={id:"navbarBasicExample",class:"navbar-menu"},Wr={class:"navbar-start"},Jr={key:0,class:"navbar-item has-dropdown is-hoverable"},Zr=(0,a._)("a",{class:"navbar-link"}," Active tournaments ",-1),Qr={key:0,class:"navbar-dropdown"},Xr=["onClick"],ei={class:"navbar-end"},ti={class:"navbar-item"},ni={class:"buttons"},si=(0,a.Uk)(" Log in as Admin ");function ai(e,t,n,o,r,i){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",Lr,[(0,a._)("div",jr,[$r,(0,a._)("a",{role:"button",class:"navbar-burger",onClick:t[0]||(t[0]=t=>e.$emit("open-menu")),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},Vr)]),(0,a._)("div",Fr,[(0,a._)("div",Wr,[(0,a._)("a",{class:"navbar-item",onClick:t[1]||(t[1]=t=>e.$emit("open-menu"))}," Menu "),e.tournaments.length>1?((0,a.wg)(),(0,a.iD)("div",Jr,[Zr,e.tournaments.length>1?((0,a.wg)(),(0,a.iD)("div",Qr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tournaments,((t,n)=>((0,a.wg)(),(0,a.iD)("a",{class:(0,D.C_)(["navbar-item",{"is-active":n===e.currentTournamentIndex}]),key:n,onClick:(0,s.iM)((t=>e.setActiveTournament(n)),["prevent"])},(0,D.zw)(t.name),11,Xr)))),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)]),(0,a._)("div",ei,[(0,a._)("div",ti,[(0,a._)("div",ni,[e.isAdmin?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"button is-light",onClick:t[2]||(t[2]=(...e)=>i.logout&&i.logout(...e))},"Logout")):((0,a.wg)(),(0,a.j4)(l,{key:1,to:"/login",class:"button is-light"},{default:(0,a.w5)((()=>[si])),_:1}))])])])])])}var oi={name:"Navbar",computed:{...(0,r.rn)(["tournaments","currentTournamentIndex","isAdmin"]),tournament(){return this.tournaments[this.currentTournamentIndex]}},methods:{...(0,r.OI)(["setActiveTournament","loginAdmin"]),logout(){this.loginAdmin(!1),this.$router.push("/")}}};const ri=(0,l.Z)(oi,[["render",ai]]);var ii=ri;const li={class:"content"},ui=(0,a._)("h3",null,"Some notes",-1),mi=(0,a._)("ol",null,[(0,a._)("li",null,"To change tournament name just click on its default name."),(0,a._)("li",null,"In swiss system you can modify previous round result if you wrote it not correct. This possibility available when you already draw next round."),(0,a._)("li",null,'You can change the score for technical win by clicking "Preferences" button on "Teams" tab.')],-1),ci={class:"buttons is-centered"},di={class:"control"};function hi(e,t,n,s,o,r){const i=(0,a.up)("Modal");return(0,a.wg)(),(0,a.j4)(i,{onCloseModal:t[1]||(t[1]=t=>e.$emit("close-modal"))},{default:(0,a.w5)((()=>[(0,a._)("div",li,[ui,mi,(0,a._)("div",ci,[(0,a._)("div",di,[(0,a._)("button",{class:"button",onClick:t[0]||(t[0]=t=>e.$emit("close-modal"))},"Close")])])])])),_:1})}var pi={name:"Help",components:{Modal:Ot},computed:{...(0,r.rn)(["tournaments","currentTournamentIndex"]),tournament(){return this.tournaments[this.currentTournamentIndex]}},methods:{...(0,r.OI)(["removeTournament"]),removeCurrentTournament(){this.removeTournament(),this.$emit("close-modal")}}};const gi=(0,l.Z)(pi,[["render",hi]]);var _i=gi,fi={name:"Page",props:["isAdmin"],data(){return{showSaveTournament:!1,menuOpen:!1,showSavedTournament:!1,helpOpen:!1,savedTournamentsActive:!1}},mounted(){this.setActiveTournament(0)},methods:{...(0,r.OI)(["setActiveTournament","addTournament"]),openSavedTournament(e){this.savedTournamentsActive=e,this.menuOpen=!1,this.openTournamentModal()},openTournamentModal(){this.showSavedTournament=!0,document.querySelector("html").classList.add("is-clipped")},closeTournamentModal(){this.showSavedTournament=!1,document.querySelector("html").classList.remove("is-clipped")}},computed:{...(0,r.rn)(["message","tournaments","currentTournamentIndex","savedTournaments"]),tournament(){return this.tournaments[this.currentTournamentIndex]},canSaveTournament(){return this.games&&this.games.length>0||this.playoff&&null!==this.playoff[this.playoff.length-1].teams[0].team_1_score}},components:{Help:_i,Navbar:ii,Tournament:Er,SavedTournamentModal:Ct,Menu:X,Message:M}};const wi=(0,l.Z)(fi,[["render",x]]);var yi=wi;const vi={class:"is-flex is-align-items-center is-justify-content-center login-container"},ki={class:"p-5 login-form"},bi={class:"field"},Ti=(0,a._)("label",{for:"password",class:"label"},"Enter password",-1),xi={key:0,class:"help is-danger"},Di={class:"field text-center"};function Oi(e,t,n,o,r,i){return(0,a.wg)(),(0,a.iD)("div",vi,[(0,a._)("div",ki,[(0,a._)("div",bi,[Ti,(0,a.wy)((0,a._)("input",{type:"password",id:"password",class:(0,D.C_)(["input",{"is-danger":r.isError}]),autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=e=>r.password=e),onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>i.login&&i.login(...e)),["enter"]))},null,34),[[s.nr,r.password]]),r.isError?((0,a.wg)(),(0,a.iD)("p",xi,"Password is not correct")):(0,a.kq)("",!0)]),(0,a._)("div",Di,[(0,a._)("button",{class:"button is-info",onClick:t[2]||(t[2]=(...e)=>i.login&&i.login(...e))},"Login as Admin")])])])}var Ii={name:"Login",data(){return{password:"",isError:!1}},methods:{...(0,r.OI)(["loginAdmin"]),login(){this.isError=!1,"petanque"==this.password?(this.loginAdmin(!0),localStorage.setItem("isAdmin","true"),this.$router.push("/admin")):this.isError=!0}}};const Ri=(0,l.Z)(Ii,[["render",Oi]]);var Ci=Ri;function Si(e,t,n,s,o,r){const i=(0,a.up)("Page");return(0,a.wg)(),(0,a.j4)(i,{"is-admin":"true"})}var Mi={name:"Admin",components:{Page:yi}};const Pi=(0,l.Z)(Mi,[["render",Si]]);var zi=Pi,qi=n.p+"img/girl.5c1e06cd.jpg";const Bi={key:0,class:"notification is-danger has-text-centered"},Ei=(0,a.Uk)(" Notification in your browser are disabled. If you want to know about tournament updates, please, enable notifications. "),Ni=(0,a._)("a",{href:"https://support.humblebundle.com/hc/en-us/articles/360008513933-Enabling-and-Disabling-Browser-Notifications-in-Various-Browsers",target:"_blank"},"How to do it?",-1),Ai=[Ei,Ni],Ui={key:1,class:"gooey"},Hi=(0,a._)("span",{class:"dot"},null,-1),Li=(0,a._)("div",{class:"dots"},[(0,a._)("span"),(0,a._)("span"),(0,a._)("span")],-1),ji=[Hi,Li],$i={key:2},Yi={key:0,class:"container"},Gi={class:"text-center is-size-3"},Ki=(0,a.Uk)(),Vi={class:"is-size-5 is-capitalized"},Fi={key:0,class:"notification is-info mt-3 mb-3 is-size-5"},Wi={key:1,class:"is-size-3 text-center"},Ji={class:"games-list"},Zi={class:"text-right team-block"},Qi=["for"],Xi={class:"text-center score-block"},el={class:"lane-block is-size-7"},tl=(0,a.Uk)(" Lane "),nl={class:"is-size-5 has-text-weight-bold"},sl={class:"team-block"},al=["for"],ol={class:"tabs"},rl=["onClick"],il={key:2,class:"content tabs-content"},ll={key:4,class:"content tabs-content"},ul={key:1,class:"p-5"},ml=(0,a._)("h2",{class:"is-size-3 text-center"},"Tournament is not active",-1),cl=(0,a._)("div",{class:"text-center mt-5"},[(0,a._)("img",{src:qi,alt:"In the petanque land"}),(0,a._)("br")],-1),dl=[ml,cl];function hl(e,t,n,o,r,i){const l=(0,a.up)("TeamsList"),u=(0,a.up)("Results"),m=(0,a.up)("Ranking");return(0,a.wg)(),(0,a.iD)(a.HY,null,[r.notificationsEnabled?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Bi,Ai)),r.isLoading?((0,a.wg)(),(0,a.iD)("div",Ui,ji)):((0,a.wg)(),(0,a.iD)("div",$i,[r.tournament?((0,a.wg)(),(0,a.iD)("div",Yi,[(0,a._)("div",Gi,[(0,a._)("strong",null,(0,D.zw)(r.tournament.name),1),Ki,(0,a._)("span",Vi,"("+(0,D.zw)(r.tournament.system)+")",1)]),r.tournament.tournamentMessage?((0,a.wg)(),(0,a.iD)("div",Fi,(0,D.zw)(r.tournament.tournamentMessage),1)):(0,a.kq)("",!0),r.tournament.roundIsActive?((0,a.wg)(),(0,a.iD)("h2",Wi,(0,D.zw)(i.activeRound)+" round",1)):(0,a.kq)("",!0),(0,a._)("div",Ji,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tournament.games[i.activeRound-1],((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"game-row compact",key:t},[(0,a._)("span",Zi,[(0,a._)("label",{for:"team_"+t},(0,D.zw)(e.team_1),9,Qi)]),(0,a._)("span",Xi,[(0,a._)("span",el,[tl,(0,a._)("span",nl,(0,D.zw)(t+1),1)])]),(0,a._)("span",sl,[(0,a._)("label",{for:"opponent_"+t},(0,D.zw)(e.team_2),9,al)])])))),128))]),(0,a._)("div",ol,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tabs,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:(0,D.C_)({"is-active":e===r.activeTab})},[(0,a._)("a",{href:"#",onClick:(0,s.iM)((t=>r.activeTab=e),["prevent"])},(0,D.zw)(e),9,rl)],2)))),128))])]),"Teams"===r.activeTab?((0,a.wg)(),(0,a.iD)("div",il,[(0,a.Wm)(l,{previewTournament:r.tournament},null,8,["previewTournament"])])):(0,a.kq)("",!0),"Results"===r.activeTab?((0,a.wg)(),(0,a.j4)(u,{key:3,previewTournament:r.tournament},null,8,["previewTournament"])):(0,a.kq)("",!0),"Ranking"===r.activeTab?((0,a.wg)(),(0,a.iD)("div",ll,[(0,a.Wm)(m,{tournament:r.tournament,rankingTeams:r.tournament.ranking,activeRound:r.tournament.activeRound},null,8,["tournament","rankingTeams","activeRound"])])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",ul,dl))]))],64)}var pl={name:"Public",components:{TeamsList:Do,Ranking:yt,Results:no},data(){return{isLoading:!1,tournament:null,tabs:["Teams","Results","Ranking"],activeTab:"Results",notificationsEnabled:!1}},mounted(){this.getInfo(),this.requestPermission(),setTimeout(this.registerSw,1e3)},computed:{activeRound(){return this.tournament.games.length?this.tournament.roundIsActive?this.tournament.games.length:this.tournament.games.length+1:1}},methods:{async getInfo(){this.isLoading=!0;const e=this.$route.params.id;let t=await fetch(`https://portal.petanque.org.ua/tournament/team_export/${e}?format=json`);if(t.ok){let e=await t.json();this.tournament=e.tournament.meta?JSON.parse(e.tournament.meta):null,this.isLoading=!1}else alert("Error"+t.status)},showNotification(e){navigator.serviceWorker.ready.then((function(t){console.log(e),t.showNotification(e.data.title,{body:e.data.body,icon:"https://i.imgur.com/S8zDbo4.png",vibrate:[200,100,200,100],data:{url:e.data.url},actions:[{action:"open_url",title:"Open"}]})}))},registerSw(){const e=this;navigator.serviceWorker.register("https://andrew-kamenev.github.io/petanque-swiss-vue/dist/firebase-messaging-sw.js",{scope:"./"}).then((function(t){console.log("Registration succeeded. Scope is "+t.scope);const n=(0,_r.iH)((0,_r.N8)());(0,_r.U2)((0,_r.iU)(n,"apikey")).then((e=>{e.exists()?(0,wr.LP)(br,{serviceWorkerRegistration:t,vapidKey:e.val()}).then((e=>{e?(0,_r.VF)((0,_r.iH)(kr,"tokens"),{time:Date.now(),token:e}):console.log("No registration token available. Request permission to generate one.")})).catch((e=>{console.log("An error occurred while retrieving token. ",e)})):console.log("No data available")})).catch((e=>{console.error(e)})),(0,wr.ps)(br,(t=>{console.log(t),e.showNotification(t)}))})).catch((function(e){console.log("Registration failed with "+e)}))},requestPermission(){Notification.requestPermission().then((e=>{this.notificationsEnabled="granted"===e}))}}};const gl=(0,l.Z)(pl,[["render",hl]]);var _l=gl;const fl=(0,s.ri)(m),wl=(0,f.p7)({history:(0,f.r5)(),routes:[{path:"/",name:"public",component:yi},{path:"/tournaments/:id",name:"view",component:_l},{path:"/login",name:"login",component:Ci},{path:"/admin",name:"admin",component:zi,beforeEnter:(e,t,n)=>{_.state.isAdmin?n():n({name:"public"})}}]});fl.use(_).use(wl).mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,o){if(!s){var r=1/0;for(m=0;m<e.length;m++){s=e[m][0],a=e[m][1],o=e[m][2];for(var i=!0,l=0;l<s.length;l++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(i=!1,o<r&&(r=o));if(i){e.splice(m--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[s,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/petanque-draw/dist/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,r=s[0],i=s[1],l=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var m=l(n)}for(t&&t(s);u<r.length;u++)o=r[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(m)},s=self["webpackChunkpetanque_draw"]=self["webpackChunkpetanque_draw"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(227)}));s=n.O(s)})();
//# sourceMappingURL=app.3858875d.js.map